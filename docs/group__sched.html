<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ETA/OS: Scheduling core</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="etaos-logo.svg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ETA/OS
   &#160;<span id="projectnumber">4.4.1</span>
   </div>
   <div id="projectbrief">API reference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sched.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Scheduling core<div class="ingroups"><a class="el" href="group__kernel.html">ETA/OS kernel</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>ETA/OS scheduling support.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Scheduling core:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__sched.png" border="0" alt="" usemap="#group____sched"/>
<map name="group____sched" id="group____sched">
<area shape="rect" id="node1" href="group__kernel.html" title="ETA/OS kernel API. " alt="" coords="5,117,115,150"/><area shape="rect" id="node2" href="group__lottery.html" title="Probabilistic lottery scheduling. " alt="" coords="361,5,484,38"/><area shape="rect" id="node4" href="group__fifo.html" title="First&#45;in First&#45;out scheduler. " alt="" coords="367,61,479,94"/><area shape="rect" id="node5" href="group__ipm.html" title="Inter&#45;Process messages. " alt="" coords="327,117,519,150"/><area shape="rect" id="node6" href="group__rr.html" title="The round robin scheduling algorithm. " alt="" coords="347,173,499,206"/><area shape="rect" id="node7" href="group__preempt.html" title="Preemption API. " alt="" coords="379,229,467,262"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__ipm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ipm.html">Message queue management</a></td></tr>
<tr class="memdesc:group__ipm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inter-Process messages. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__preempt"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__preempt.html">Preemption</a></td></tr>
<tr class="memdesc:group__preempt"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preemption API. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__rr"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__rr.html">Round robin scheduler</a></td></tr>
<tr class="memdesc:group__rr"><td class="mdescLeft">&#160;</td><td class="mdescRight">The round robin scheduling algorithm. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__fifo"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fifo.html">FIFO scheduler</a></td></tr>
<tr class="memdesc:group__fifo"><td class="mdescLeft">&#160;</td><td class="mdescRight">First-in First-out scheduler. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__lottery"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__lottery.html">Lottery scheduler</a></td></tr>
<tr class="memdesc:group__lottery"><td class="mdescLeft">&#160;</td><td class="mdescRight">Probabilistic lottery scheduling. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsched__class.html">sched_class</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduling class descriptor.  <a href="structsched__class.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrr__rq.html">rr_rq</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round robin run queue.  <a href="structrr__rq.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrq.html">rq</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run queue descriptor.  <a href="structrq.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1cd22be54ba123d6ad1787690ce1dc49"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga1cd22be54ba123d6ad1787690ce1dc49">sched_need_resched</a>(__t)</td></tr>
<tr class="memdesc:ga1cd22be54ba123d6ad1787690ce1dc49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the scheduler needs to reschedule a thread.  <a href="#ga1cd22be54ba123d6ad1787690ce1dc49">More...</a><br/></td></tr>
<tr class="separator:ga1cd22be54ba123d6ad1787690ce1dc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5964c01d85a3421a529b5f3de617a492"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga5964c01d85a3421a529b5f3de617a492">current</a>(_rq)&#160;&#160;&#160;((_rq)-&gt;current)</td></tr>
<tr class="separator:ga5964c01d85a3421a529b5f3de617a492"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9a8ff49b1aeeb5a84a73ac172e1d57d5"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5">prio</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga9a8ff49b1aeeb5a84a73ac172e1d57d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the priority of a thread.  <a href="#ga9a8ff49b1aeeb5a84a73ac172e1d57d5">More...</a><br/></td></tr>
<tr class="separator:ga9a8ff49b1aeeb5a84a73ac172e1d57d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac48128e72b303ea22d8ec641a9516b15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gac48128e72b303ea22d8ec641a9516b15">schedule</a> (void)</td></tr>
<tr class="memdesc:gac48128e72b303ea22d8ec641a9516b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reschedule the current run queue.  <a href="#gac48128e72b303ea22d8ec641a9516b15">More...</a><br/></td></tr>
<tr class="separator:gac48128e72b303ea22d8ec641a9516b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada97a499438abc44548acb43e582dc73"><td class="memItemLeft" align="right" valign="top"><a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gada97a499438abc44548acb43e582dc73">should_resched</a> (void)</td></tr>
<tr class="memdesc:gada97a499438abc44548acb43e582dc73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a reschedule is needed.  <a href="#gada97a499438abc44548acb43e582dc73">More...</a><br/></td></tr>
<tr class="separator:gada97a499438abc44548acb43e582dc73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ef97c57a13bfb6960d699dc4fca5af0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga0ef97c57a13bfb6960d699dc4fca5af0">raw_thread_add_to_wake_q</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga0ef97c57a13bfb6960d699dc4fca5af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a wake thread to the current RQ.  <a href="#ga0ef97c57a13bfb6960d699dc4fca5af0">More...</a><br/></td></tr>
<tr class="separator:ga0ef97c57a13bfb6960d699dc4fca5af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cf0a4f4c107b862043c281c6ca09ed0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga8cf0a4f4c107b862043c281c6ca09ed0">raw_thread_add_to_kill_q</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga8cf0a4f4c107b862043c281c6ca09ed0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a kill thread to the current RQ.  <a href="#ga8cf0a4f4c107b862043c281c6ca09ed0">More...</a><br/></td></tr>
<tr class="separator:ga8cf0a4f4c107b862043c281c6ca09ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga746679e5490fa2dfd8c9184594bc8d7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga746679e5490fa2dfd8c9184594bc8d7b">thread_add_to_wake_q</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga746679e5490fa2dfd8c9184594bc8d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a wake thread to the current RQ.  <a href="#ga746679e5490fa2dfd8c9184594bc8d7b">More...</a><br/></td></tr>
<tr class="separator:ga746679e5490fa2dfd8c9184594bc8d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga943138ae9f6509d01235bbd1e35bdccb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga943138ae9f6509d01235bbd1e35bdccb">thread_add_to_kill_q</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga943138ae9f6509d01235bbd1e35bdccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a kill thread to the current RQ.  <a href="#ga943138ae9f6509d01235bbd1e35bdccb">More...</a><br/></td></tr>
<tr class="separator:ga943138ae9f6509d01235bbd1e35bdccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1a79ba3d3d2d109c947be1ee5a03f3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d">raw_rq_remove_wake_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gae1a79ba3d3d2d109c947be1ee5a03f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a rq.  <a href="#gae1a79ba3d3d2d109c947be1ee5a03f3d">More...</a><br/></td></tr>
<tr class="separator:gae1a79ba3d3d2d109c947be1ee5a03f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga754b469e7ba40ebd207bee7e1743dd6c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c">raw_rq_remove_kill_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga754b469e7ba40ebd207bee7e1743dd6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from the kill queue.  <a href="#ga754b469e7ba40ebd207bee7e1743dd6c">More...</a><br/></td></tr>
<tr class="separator:ga754b469e7ba40ebd207bee7e1743dd6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90b5e9ac2b30f1b518a6d2136caf3a07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga90b5e9ac2b30f1b518a6d2136caf3a07">rq_remove_wake_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga90b5e9ac2b30f1b518a6d2136caf3a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a rq.  <a href="#ga90b5e9ac2b30f1b518a6d2136caf3a07">More...</a><br/></td></tr>
<tr class="separator:ga90b5e9ac2b30f1b518a6d2136caf3a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c707bd06b4a063aff228943af62da62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga2c707bd06b4a063aff228943af62da62">rq_remove_kill_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga2c707bd06b4a063aff228943af62da62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from the kill queue.  <a href="#ga2c707bd06b4a063aff228943af62da62">More...</a><br/></td></tr>
<tr class="separator:ga2c707bd06b4a063aff228943af62da62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga466e412d13a242143847e21dcbd5fea7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga466e412d13a242143847e21dcbd5fea7">raw_rq_remove_thread_noresched</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga466e412d13a242143847e21dcbd5fea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a run queue without rescheduling.  <a href="#ga466e412d13a242143847e21dcbd5fea7">More...</a><br/></td></tr>
<tr class="separator:ga466e412d13a242143847e21dcbd5fea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00b5eddce98c571327635b14b3c536b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga00b5eddce98c571327635b14b3c536b4">rq_remove_thread</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga00b5eddce98c571327635b14b3c536b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a run queue.  <a href="#ga00b5eddce98c571327635b14b3c536b4">More...</a><br/></td></tr>
<tr class="separator:ga00b5eddce98c571327635b14b3c536b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga77e2ff852e6bfbdd54a2cca365ef8700"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga77e2ff852e6bfbdd54a2cca365ef8700">rq_add_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga77e2ff852e6bfbdd54a2cca365ef8700"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread to a run queue.  <a href="#ga77e2ff852e6bfbdd54a2cca365ef8700">More...</a><br/></td></tr>
<tr class="separator:ga77e2ff852e6bfbdd54a2cca365ef8700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44292b5df60facfa57dcafc582212a0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d">rq_add_thread_no_lock</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga44292b5df60facfa57dcafc582212a0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread to a run queue.  <a href="#ga44292b5df60facfa57dcafc582212a0d">More...</a><br/></td></tr>
<tr class="separator:ga44292b5df60facfa57dcafc582212a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a5cf871207a99e5d32c88d16b4986db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga1a5cf871207a99e5d32c88d16b4986db">sched_setup_sleep_thread</a> (struct <a class="el" href="structthread.html">thread</a> *tp, unsigned ms)</td></tr>
<tr class="memdesc:ga1a5cf871207a99e5d32c88d16b4986db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a thread to go into sleeping mode.  <a href="#ga1a5cf871207a99e5d32c88d16b4986db">More...</a><br/></td></tr>
<tr class="separator:ga1a5cf871207a99e5d32c88d16b4986db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16b0328d8a4b4db8c6eb2733218d625e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga16b0328d8a4b4db8c6eb2733218d625e">sched_yield</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:ga16b0328d8a4b4db8c6eb2733218d625e"><td class="mdescLeft">&#160;</td><td class="mdescRight">API interface for `yield()'.  <a href="#ga16b0328d8a4b4db8c6eb2733218d625e">More...</a><br/></td></tr>
<tr class="separator:ga16b0328d8a4b4db8c6eb2733218d625e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac76f0bd4fbafc057a2f780869968e3ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gac76f0bd4fbafc057a2f780869968e3ed">sched_init</a> (void)</td></tr>
<tr class="memdesc:gac76f0bd4fbafc057a2f780869968e3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the scheduler.  <a href="#gac76f0bd4fbafc057a2f780869968e3ed">More...</a><br/></td></tr>
<tr class="separator:gac76f0bd4fbafc057a2f780869968e3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa468a0cc0864610b821b2730abe5c182"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gaa468a0cc0864610b821b2730abe5c182">queue_remove_thread</a> (struct <a class="el" href="structthread__queue.html">thread_queue</a> *qp, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gaa468a0cc0864610b821b2730abe5c182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a <a class="el" href="structthread__queue.html" title="Thread queue descriptor. ">thread_queue</a>.  <a href="#gaa468a0cc0864610b821b2730abe5c182">More...</a><br/></td></tr>
<tr class="separator:gaa468a0cc0864610b821b2730abe5c182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72ca187dd5dd0ac19af98da3ea9b56e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga72ca187dd5dd0ac19af98da3ea9b56e4">queue_add_thread</a> (struct <a class="el" href="structthread__queue.html">thread_queue</a> *qp, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga72ca187dd5dd0ac19af98da3ea9b56e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new thread to a queue.  <a href="#ga72ca187dd5dd0ac19af98da3ea9b56e4">More...</a><br/></td></tr>
<tr class="separator:ga72ca187dd5dd0ac19af98da3ea9b56e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaa0c197333ed35a35e52e8b6a4160d2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gadaa0c197333ed35a35e52e8b6a4160d2">thread_remove_from_wake_q</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gadaa0c197333ed35a35e52e8b6a4160d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from its wake queue.  <a href="#gadaa0c197333ed35a35e52e8b6a4160d2">More...</a><br/></td></tr>
<tr class="separator:gadaa0c197333ed35a35e52e8b6a4160d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a14953a27abbba377438f48843c7b03"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga3a14953a27abbba377438f48843c7b03">thread_remove_from_kill_q</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga3a14953a27abbba377438f48843c7b03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from its kill queue.  <a href="#ga3a14953a27abbba377438f48843c7b03">More...</a><br/></td></tr>
<tr class="separator:ga3a14953a27abbba377438f48843c7b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bfa8964506ed9b9b7cc8e04c2f2bbf1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1">raw_rq_add_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga6bfa8964506ed9b9b7cc8e04c2f2bbf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread to a run queue.  <a href="#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1">More...</a><br/></td></tr>
<tr class="separator:ga6bfa8964506ed9b9b7cc8e04c2f2bbf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8e22593d00f87f52537f7f20f42a51c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gac8e22593d00f87f52537f7f20f42a51c">raw_rq_remove_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gac8e22593d00f87f52537f7f20f42a51c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a run queue.  <a href="#gac8e22593d00f87f52537f7f20f42a51c">More...</a><br/></td></tr>
<tr class="separator:gac8e22593d00f87f52537f7f20f42a51c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee692d7e66f769977248b9a0ac03bed2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gaee692d7e66f769977248b9a0ac03bed2">irq_thread_wait</a> (void)</td></tr>
<tr class="memdesc:gaee692d7e66f769977248b9a0ac03bed2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put an IRQ thread in a waiting state.  <a href="#gaee692d7e66f769977248b9a0ac03bed2">More...</a><br/></td></tr>
<tr class="separator:gaee692d7e66f769977248b9a0ac03bed2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bc3313bad893c5e73c47dbdf69d3bbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga3bc3313bad893c5e73c47dbdf69d3bbe">irq_handle_fn</a> (void *data)</td></tr>
<tr class="memdesc:ga3bc3313bad893c5e73c47dbdf69d3bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threaded IRQ handle.  <a href="#ga3bc3313bad893c5e73c47dbdf69d3bbe">More...</a><br/></td></tr>
<tr class="separator:ga3bc3313bad893c5e73c47dbdf69d3bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace05e070b7507c5df0d9ae2e6fa7eb50"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthread__queue.html">thread_queue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50">thread_to_queue</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gace05e070b7507c5df0d9ae2e6fa7eb50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <a class="el" href="structthread__queue.html" title="Thread queue descriptor. ">thread_queue</a> the given thread is on.  <a href="#gace05e070b7507c5df0d9ae2e6fa7eb50">More...</a><br/></td></tr>
<tr class="separator:gace05e070b7507c5df0d9ae2e6fa7eb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga512d7ca8d457038cebefec83b3b02065"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga512d7ca8d457038cebefec83b3b02065">thread_queue_init</a> (struct <a class="el" href="structthread__queue.html">thread_queue</a> *qp)</td></tr>
<tr class="memdesc:ga512d7ca8d457038cebefec83b3b02065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a thread queue during run time.  <a href="#ga512d7ca8d457038cebefec83b3b02065">More...</a><br/></td></tr>
<tr class="separator:ga512d7ca8d457038cebefec83b3b02065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga979f19c1ce60dbbff56185ffb9b5df74"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga979f19c1ce60dbbff56185ffb9b5df74">raw_queue_add_thread</a> (struct <a class="el" href="structthread__queue.html">thread_queue</a> *qp, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga979f19c1ce60dbbff56185ffb9b5df74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new thread to a queue.  <a href="#ga979f19c1ce60dbbff56185ffb9b5df74">More...</a><br/></td></tr>
<tr class="separator:ga979f19c1ce60dbbff56185ffb9b5df74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb1050b54e2329c8c86ca1a7a3bbc0dc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc">raw_queue_remove_thread</a> (struct <a class="el" href="structthread__queue.html">thread_queue</a> *qp, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:gadb1050b54e2329c8c86ca1a7a3bbc0dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from a <a class="el" href="structthread__queue.html" title="Thread queue descriptor. ">thread_queue</a>.  <a href="#gadb1050b54e2329c8c86ca1a7a3bbc0dc">More...</a><br/></td></tr>
<tr class="separator:gadb1050b54e2329c8c86ca1a7a3bbc0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9806ceeb3d9a5e4b28841b40f20bf30e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e">rq_list_remove</a> (struct <a class="el" href="structthread.html">thread</a> *tp, struct <a class="el" href="structthread.html">thread</a> *volatile *tpp)</td></tr>
<tr class="memdesc:ga9806ceeb3d9a5e4b28841b40f20bf30e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a thread from the rq_list.  <a href="#ga9806ceeb3d9a5e4b28841b40f20bf30e">More...</a><br/></td></tr>
<tr class="separator:ga9806ceeb3d9a5e4b28841b40f20bf30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga301d246794be6810e401a05368e8f43e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga301d246794be6810e401a05368e8f43e">rq_list_add</a> (struct <a class="el" href="structthread.html">thread</a> *new, struct <a class="el" href="structthread.html">thread</a> *head)</td></tr>
<tr class="memdesc:ga301d246794be6810e401a05368e8f43e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread to rq_list.  <a href="#ga301d246794be6810e401a05368e8f43e">More...</a><br/></td></tr>
<tr class="separator:ga301d246794be6810e401a05368e8f43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0e552c895a2aedba3709bf10dc5d23f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gab0e552c895a2aedba3709bf10dc5d23f">rq_add_wake_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *new)</td></tr>
<tr class="memdesc:gab0e552c895a2aedba3709bf10dc5d23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a wake thread.  <a href="#gab0e552c895a2aedba3709bf10dc5d23f">More...</a><br/></td></tr>
<tr class="separator:gab0e552c895a2aedba3709bf10dc5d23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa119db667033233b449e211df34dc4c3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gaa119db667033233b449e211df34dc4c3">rq_add_kill_thread</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *new)</td></tr>
<tr class="memdesc:gaa119db667033233b449e211df34dc4c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a kill thread.  <a href="#gaa119db667033233b449e211df34dc4c3">More...</a><br/></td></tr>
<tr class="separator:gaa119db667033233b449e211df34dc4c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b1c71305537a28e3a7194016f6b43e6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6">rq_update</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:ga0b1c71305537a28e3a7194016f6b43e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update a run queue.  <a href="#ga0b1c71305537a28e3a7194016f6b43e6">More...</a><br/></td></tr>
<tr class="separator:ga0b1c71305537a28e3a7194016f6b43e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae96839a8f744d32804b17f6e83d69a81"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gae96839a8f744d32804b17f6e83d69a81">sched_sleep_timeout</a> (struct <a class="el" href="structtimer.html">timer</a> *<a class="el" href="structtimer.html">timer</a>, void *arg)</td></tr>
<tr class="memdesc:gae96839a8f744d32804b17f6e83d69a81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer handle for sleeping threads.  <a href="#gae96839a8f744d32804b17f6e83d69a81">More...</a><br/></td></tr>
<tr class="separator:gae96839a8f744d32804b17f6e83d69a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga550ca50260ef89432c99ba6dcc150644"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structthread.html">thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644">sched_get_next_runnable</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:ga550ca50260ef89432c99ba6dcc150644"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the next runnable task of a run queue.  <a href="#ga550ca50260ef89432c99ba6dcc150644">More...</a><br/></td></tr>
<tr class="separator:ga550ca50260ef89432c99ba6dcc150644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13a5b1237d1c0238dd0432a2590e8195"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195">rq_destroy_kill_q</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:ga13a5b1237d1c0238dd0432a2590e8195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the kill queue.  <a href="#ga13a5b1237d1c0238dd0432a2590e8195">More...</a><br/></td></tr>
<tr class="separator:ga13a5b1237d1c0238dd0432a2590e8195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e596ab331b3af0d627de2e80681acf2"><td class="memItemLeft" align="right" valign="top">static unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga7e596ab331b3af0d627de2e80681acf2">__sched_switch_count</a> (int cpu)</td></tr>
<tr class="memdesc:ga7e596ab331b3af0d627de2e80681acf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of thread switches of a given CPU.  <a href="#ga7e596ab331b3af0d627de2e80681acf2">More...</a><br/></td></tr>
<tr class="separator:ga7e596ab331b3af0d627de2e80681acf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf73c5dc7cda9379cb9e99169b92dbbee"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gaf73c5dc7cda9379cb9e99169b92dbbee">sched_switch_count</a> (void)</td></tr>
<tr class="memdesc:gaf73c5dc7cda9379cb9e99169b92dbbee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of thread switches on the current CPU.  <a href="#gaf73c5dc7cda9379cb9e99169b92dbbee">More...</a><br/></td></tr>
<tr class="separator:gaf73c5dc7cda9379cb9e99169b92dbbee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9424b03c1fd27d84ac97b69873078376"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376">dyn_prio_reset</a> (struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga9424b03c1fd27d84ac97b69873078376"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the dynamic priority.  <a href="#ga9424b03c1fd27d84ac97b69873078376">More...</a><br/></td></tr>
<tr class="separator:ga9424b03c1fd27d84ac97b69873078376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac785ae41ce6d0f268bd39497fc873b68"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68">dyn_prio_update</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:gac785ae41ce6d0f268bd39497fc873b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the dynamic priorities of a run queue with 1.  <a href="#gac785ae41ce6d0f268bd39497fc873b68">More...</a><br/></td></tr>
<tr class="separator:gac785ae41ce6d0f268bd39497fc873b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga761312d2768cc26c49b7f53de33c8477"><td class="memItemLeft" align="right" valign="top">static void __hot&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477">rq_switch_context</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *prev, struct <a class="el" href="structthread.html">thread</a> *new)</td></tr>
<tr class="memdesc:ga761312d2768cc26c49b7f53de33c8477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch context on a given run queue.  <a href="#ga761312d2768cc26c49b7f53de33c8477">More...</a><br/></td></tr>
<tr class="separator:ga761312d2768cc26c49b7f53de33c8477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21bff5f2e0f402ef8b0ccb687570a2fa"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa">rq_signal_event_queue</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *tp)</td></tr>
<tr class="memdesc:ga21bff5f2e0f402ef8b0ccb687570a2fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a thread on a wake queue.  <a href="#ga21bff5f2e0f402ef8b0ccb687570a2fa">More...</a><br/></td></tr>
<tr class="separator:ga21bff5f2e0f402ef8b0ccb687570a2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03112ca86b69fbd1f65033163c3b9676"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676">irq_signal_threads</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:ga03112ca86b69fbd1f65033163c3b9676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal threads that function as an IRQ.  <a href="#ga03112ca86b69fbd1f65033163c3b9676">More...</a><br/></td></tr>
<tr class="separator:ga03112ca86b69fbd1f65033163c3b9676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga017c639d6dbf8710ad60a22985116618"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618">rq_signal_threads</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>)</td></tr>
<tr class="memdesc:ga017c639d6dbf8710ad60a22985116618"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal threads that are waiting for an event.  <a href="#ga017c639d6dbf8710ad60a22985116618">More...</a><br/></td></tr>
<tr class="separator:ga017c639d6dbf8710ad60a22985116618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1210a078823bbd6a24d7fe993e5af13a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a">__schedule_prepare</a> (struct <a class="el" href="structrq.html">rq</a> *<a class="el" href="structrq.html">rq</a>, struct <a class="el" href="structthread.html">thread</a> *prev)</td></tr>
<tr class="memdesc:ga1210a078823bbd6a24d7fe993e5af13a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare the a reschedule.  <a href="#ga1210a078823bbd6a24d7fe993e5af13a">More...</a><br/></td></tr>
<tr class="separator:ga1210a078823bbd6a24d7fe993e5af13a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71fd9dde3968661117e7926bab75f25e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e">__schedule_need_resched</a> (struct <a class="el" href="structthread.html">thread</a> *curr, struct <a class="el" href="structthread.html">thread</a> *next)</td></tr>
<tr class="memdesc:ga71fd9dde3968661117e7926bab75f25e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reschedule policy.  <a href="#ga71fd9dde3968661117e7926bab75f25e">More...</a><br/></td></tr>
<tr class="separator:ga71fd9dde3968661117e7926bab75f25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga600be0cc76ab00133895c06e27b74fab"><td class="memItemLeft" align="right" valign="top">static void __hot&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab">__schedule</a> (int cpu)</td></tr>
<tr class="memdesc:ga600be0cc76ab00133895c06e27b74fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reschedule the current run queue.  <a href="#ga600be0cc76ab00133895c06e27b74fab">More...</a><br/></td></tr>
<tr class="separator:ga600be0cc76ab00133895c06e27b74fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa502c4a92f7b7008c0eca9c374d7f671"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671">need_resched</a> ()</td></tr>
<tr class="memdesc:gaa502c4a92f7b7008c0eca9c374d7f671"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a reschedule is required.  <a href="#gaa502c4a92f7b7008c0eca9c374d7f671">More...</a><br/></td></tr>
<tr class="separator:gaa502c4a92f7b7008c0eca9c374d7f671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab377aa939771256f71f426bd7650b01a"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gab377aa939771256f71f426bd7650b01a">preempt_counter_ptr</a> (void)</td></tr>
<tr class="memdesc:gab377aa939771256f71f426bd7650b01a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the preemption counter of the current thread.  <a href="#gab377aa939771256f71f426bd7650b01a">More...</a><br/></td></tr>
<tr class="separator:gab377aa939771256f71f426bd7650b01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2e616c556fe40f3c614208e8b38c9a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gae2e616c556fe40f3c614208e8b38c9a5">__preempt_add</a> (int num)</td></tr>
<tr class="memdesc:gae2e616c556fe40f3c614208e8b38c9a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Substract <code>num</code> from the preemption counter of the current thread.  <a href="#gae2e616c556fe40f3c614208e8b38c9a5">More...</a><br/></td></tr>
<tr class="separator:gae2e616c556fe40f3c614208e8b38c9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga958d7a379aac8fbb7b2b40902c406855"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga958d7a379aac8fbb7b2b40902c406855">__preempt_sub</a> (int num)</td></tr>
<tr class="memdesc:ga958d7a379aac8fbb7b2b40902c406855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add <code>num</code> to the preemption counter of the current thread.  <a href="#ga958d7a379aac8fbb7b2b40902c406855">More...</a><br/></td></tr>
<tr class="separator:ga958d7a379aac8fbb7b2b40902c406855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa93580e45d2e6c581a96c72bfbd51212"><td class="memItemLeft" align="right" valign="top"><a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#gaa93580e45d2e6c581a96c72bfbd51212">preempt_should_resched</a> (void)</td></tr>
<tr class="memdesc:gaa93580e45d2e6c581a96c72bfbd51212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the current thread should be rescheduled.  <a href="#gaa93580e45d2e6c581a96c72bfbd51212">More...</a><br/></td></tr>
<tr class="separator:gaa93580e45d2e6c581a96c72bfbd51212"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga89bc3f7e7e6c0042ad508637e5db5b59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga89bc3f7e7e6c0042ad508637e5db5b59"></a>
struct <a class="el" href="structsched__class.html">sched_class</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sched.html#ga89bc3f7e7e6c0042ad508637e5db5b59">rr_class</a></td></tr>
<tr class="memdesc:ga89bc3f7e7e6c0042ad508637e5db5b59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round robin scheduling class. <br/></td></tr>
<tr class="separator:ga89bc3f7e7e6c0042ad508637e5db5b59"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>ETA/OS scheduling support. </p>
<h1><a class="anchor" id="sched-desc"></a>
Introduction</h1>
<p>The scheduler is responsible for handling the available CPU time, and distributing it around the available threads. The entry point for the scheduler is the function <a class="el" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. ">schedule()</a>. This function will check two value's before it decides to switch context or not. It checks the flag THREAD_NEED_RESCHED_FLAG on the currently running thread, and it checks if the thread selected by the algorithm as 'next' is not equal to the one already running. To manually request a reschedule the following stepds are required: </p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structthread.html">thread</a> *tp = <a class="code" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5">current_thread</a>();</div>
<div class="line"></div>
<div class="line"><a class="code" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae">set_bit</a>(<a class="code" href="group__thread.html#ga805f06c1718bb48058144a1745e9f5d1">THREAD_NEED_RESCHED_FLAG</a>, &amp;tp-&gt;<a class="code" href="structthread.html#a9e339c2784bd040b26a5112866700bff">flags</a>);</div>
<div class="line"><a class="code" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15">schedule</a>();</div>
</div><!-- fragment --><h1><a class="anchor" id="sched-other"></a>
Responsibilities</h1>
<p>The scheduler is responsible for of switching the context of threads, of course. But there is bunch of other features it is updating:</p>
<ul>
<li>checking if a thread has used up its time slice;</li>
<li>signaling events which have been signaled from an IRQ;</li>
<li>signaling IRQ threads for threaded IRQ support;</li>
<li>updating the timers and clocksource of the CPU clocksource;</li>
<li>Free-ing the memory of killed threads;</li>
<li>Updating the dynamic priorities of threads in the run queue</li>
</ul>
<p>For this reason it is important that the scheduler gets called regularly. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga5964c01d85a3421a529b5f3de617a492"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define current</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_rq</td><td>)</td>
          <td>&#160;&#160;&#160;((_rq)-&gt;current)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_rq</td><td>Run queue to get the current thread from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1cd22be54ba123d6ad1787690ce1dc49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define sched_need_resched</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">__t</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178">test_bit</a>(<a class="code" href="group__thread.html#ga805f06c1718bb48058144a1745e9f5d1">THREAD_NEED_RESCHED_FLAG</a>, \</div>
<div class="line">                                &amp;__t-&gt;flags)</div>
<div class="ttc" id="group__thread_html_ga805f06c1718bb48058144a1745e9f5d1"><div class="ttname"><a href="group__thread.html#ga805f06c1718bb48058144a1745e9f5d1">THREAD_NEED_RESCHED_FLAG</a></div><div class="ttdeci">#define THREAD_NEED_RESCHED_FLAG</div><div class="ttdoc">Thread need a resched. </div><div class="ttdef"><b>Definition:</b> thread.h:175</div></div>
<div class="ttc" id="arch_2avr_2include_2asm_2bitops_8h_html_a885c4e4b78de84afaf562fffdf93f178"><div class="ttname"><a href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178">test_bit</a></div><div class="ttdeci">static int test_bit(unsigned nr, volatile void *addr)</div><div class="ttdoc">Return the value of bit nr. </div><div class="ttdef"><b>Definition:</b> bitops.h:85</div></div>
</div><!-- fragment -->
<p>Check if the scheduler needs to reschedule a thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">__t</td><td>Thread which needs to be checked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gae2e616c556fe40f3c614208e8b38c9a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __preempt_add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Substract <code>num</code> from the preemption counter of the current thread. </p>
<p>Add to the preemption counter of the current thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>Amount to substract from the preemption counter.</td></tr>
  </table>
  </dd>
</dl>
<p>Substracts <code>num</code> from struct <a class="el" href="structthread.html#a449510b1270b20ea278fcb3ae871f3d3" title="Preempt enable counter. ">thread::preemt_cnt</a>. </p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gae2e616c556fe40f3c614208e8b38c9a5_cgraph.png" border="0" usemap="#group__sched_gae2e616c556fe40f3c614208e8b38c9a5_cgraph" alt=""/></div>
<map name="group__sched_gae2e616c556fe40f3c614208e8b38c9a5_cgraph" id="group__sched_gae2e616c556fe40f3c614208e8b38c9a5_cgraph">
<area shape="rect" id="node3" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="165,5,307,38"/><area shape="rect" id="node5" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="356,5,460,38"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="509,5,637,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga958d7a379aac8fbb7b2b40902c406855"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __preempt_sub </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add <code>num</code> to the preemption counter of the current thread. </p>
<p>Subtract from the preemption counter of the current thread.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>Amount to add to the preemption counter.</td></tr>
  </table>
  </dd>
</dl>
<p>Will add <code>num</code> to struct <a class="el" href="structthread.html#a449510b1270b20ea278fcb3ae871f3d3" title="Preempt enable counter. ">thread::preemt_cnt</a>. </p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga958d7a379aac8fbb7b2b40902c406855_cgraph.png" border="0" usemap="#group__sched_ga958d7a379aac8fbb7b2b40902c406855_cgraph" alt=""/></div>
<map name="group__sched_ga958d7a379aac8fbb7b2b40902c406855_cgraph" id="group__sched_ga958d7a379aac8fbb7b2b40902c406855_cgraph">
<area shape="rect" id="node3" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="165,5,307,38"/><area shape="rect" id="node5" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="356,5,460,38"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="509,5,637,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7e596ab331b3af0d627de2e80681acf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned long __sched_switch_count </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of thread switches of a given CPU. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cpu</td><td>CPU to get the number of context switches for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of context switches that occured on <code>cpu</code>. </dd></dl>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga7e596ab331b3af0d627de2e80681acf2_cgraph.png" border="0" usemap="#group__sched_ga7e596ab331b3af0d627de2e80681acf2_cgraph" alt=""/></div>
<map name="group__sched_ga7e596ab331b3af0d627de2e80681acf2_cgraph" id="group__sched_ga7e596ab331b3af0d627de2e80681acf2_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="209,5,287,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga600be0cc76ab00133895c06e27b74fab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __hot __schedule </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cpu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reschedule the current run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cpu</td><td>ID of the CPU which should be rescheduled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function also updates:<ul>
<li>threads signaled from an IRQ;</li>
<li>timers;</li>
<li>threads which have used up their time slice;</li>
<li>the kill queue of the run queue;</li>
<li>irq threads which have to be woken up. </li>
</ul>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. ">__schedule_need_resched</a></dd></dl>
<p>struct <a class="el" href="structrq.html#a79cda015c79ff2b4c1444e3070f0bb5d" title="Run queue lock. ">rq::lock</a> will be locked (and unlocked). </p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga600be0cc76ab00133895c06e27b74fab_cgraph.png" border="0" usemap="#group__sched_ga600be0cc76ab00133895c06e27b74fab_cgraph" alt=""/></div>
<map name="group__sched_ga600be0cc76ab00133895c06e27b74fab_cgraph" id="group__sched_ga600be0cc76ab00133895c06e27b74fab_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="191,5,268,38"/><area shape="rect" id="node5" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="1753,389,1879,422"/><area shape="rect" id="node15" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2180,671,2241,705"/><area shape="rect" id="node18" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="168,845,291,878"/><area shape="rect" id="node57" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="160,951,299,985"/><area shape="rect" id="node59" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="377,791,519,825"/><area shape="rect" id="node114" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="144,1007,315,1041"/><area shape="rect" id="node116" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="141,1063,317,1097"/><area shape="rect" id="node120" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="160,1119,299,1153"/><area shape="rect" id="node127" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="165,638,293,671"/><area shape="rect" id="node132" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="191,1175,268,1209"/><area shape="rect" id="node134" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195" title="Destroy the kill queue. " alt="" coords="169,333,289,366"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2179,334,2243,367"/><area shape="rect" id="node9" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="1991,335,2060,369"/><area shape="rect" id="node11" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="1948,546,2103,579"/><area shape="rect" id="node13" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2312,306,2440,339"/><area shape="rect" id="node20" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="371,847,525,881"/><area shape="rect" id="node22" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="805,517,952,550"/><area shape="rect" id="node28" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="609,903,727,937"/><area shape="rect" id="node30" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="593,618,743,673"/><area shape="rect" id="node35" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="837,629,920,662"/><area shape="rect" id="node40" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="579,959,757,993"/><area shape="rect" id="node42" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="609,1015,727,1049"/><area shape="rect" id="node50" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1216,731,1347,765"/><area shape="rect" id="node53" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="647,847,689,881"/><area shape="rect" id="node24" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="1015,505,1143,538"/><area shape="rect" id="node26" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="1021,561,1136,594"/><area shape="rect" id="node33" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="825,573,932,606"/><area shape="rect" id="node37" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="1207,557,1356,590"/><area shape="rect" id="node44" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="812,994,945,1049"/><area shape="rect" id="node46" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="819,867,939,901"/><area shape="rect" id="node48" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="1001,867,1156,901"/><area shape="rect" id="node61" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="643,333,693,366"/><area shape="rect" id="node63" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="839,333,919,366"/><area shape="rect" id="node65" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="1407,333,1524,366"/><area shape="rect" id="node68" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="1017,265,1140,298"/><area shape="rect" id="node70" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="1255,237,1308,270"/><area shape="rect" id="node72" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="1435,223,1496,257"/><area shape="rect" id="node74" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="1573,111,1691,145"/><area shape="rect" id="node76" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="1609,223,1655,257"/><area shape="rect" id="node81" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="1607,279,1657,313"/><area shape="rect" id="node90" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="1575,167,1689,201"/><area shape="rect" id="node78" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="1791,170,1841,203"/><area shape="rect" id="node83" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="1791,226,1841,259"/><area shape="rect" id="node88" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="1789,282,1843,315"/><area shape="rect" id="node85" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="1988,279,2063,313"/><area shape="rect" id="node92" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="1739,114,1893,147"/><area shape="rect" id="node103" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="1779,58,1853,91"/><area shape="rect" id="node94" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="1955,117,2096,150"/><area shape="rect" id="node99" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="1943,173,2108,206"/><area shape="rect" id="node96" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="2159,145,2263,178"/><area shape="rect" id="node105" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="1983,5,2068,38"/><area shape="rect" id="node108" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="1975,61,2076,94"/><area shape="rect" id="node118" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="384,1063,512,1097"/><area shape="rect" id="node122" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="389,1173,507,1206"/><area shape="rect" id="node124" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="615,1173,721,1206"/><area shape="rect" id="node130" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="379,638,517,671"/><area shape="rect" id="node136" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="601,541,735,595"/><area shape="rect" id="node141" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="365,281,531,314"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga71fd9dde3968661117e7926bab75f25e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int __schedule_need_resched </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>curr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>next</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reschedule policy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">curr</td><td>Current thread. </td></tr>
    <tr><td class="paramname">next</td><td>Thread which is supposed to be running after <code>curr</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an integer indicating whether to reschedule or not. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if __schedule should reschedule. </td></tr>
    <tr><td class="paramname">0</td><td>if __schedule should not reschedule.</td></tr>
  </table>
  </dd>
</dl>
<p>The decision to reschedule is made as following:</p>
<p>Check the PREEMPT_NEED_RESCHED_FLAG flag. If this flag is set and <code>next</code> is the idle thread a reschedule will only occur if THREAD_NEED_RESCHED_FLAG is set (PREEMPT_NEED_RESCHED_FLAG is discarded). If <code>next</code> is <b>not</b> the idle thread, the return value will be: <img class="formulaInl" alt="$ x \lor y $" src="form_4.png"/> <br/>
where <code>x</code> is the value of PREEMPT_NEED_RESCHED_FLAG; <br/>
<code>y</code> is the value of THREAD_NEED_RESCHED_FLAG. <br/>
<br/>
When preemption is not enabled the value of THREAD_NEED_RESCHED_FLAG is returned. </p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga71fd9dde3968661117e7926bab75f25e_cgraph.png" border="0" usemap="#group__sched_ga71fd9dde3968661117e7926bab75f25e_cgraph" alt=""/></div>
<map name="group__sched_ga71fd9dde3968661117e7926bab75f25e_cgraph" id="group__sched_ga71fd9dde3968661117e7926bab75f25e_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="229,5,357,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1210a078823bbd6a24d7fe993e5af13a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __schedule_prepare </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>prev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare the a reschedule. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Runqueue that is about to be rescheduled. </td></tr>
    <tr><td class="paramname">prev</td><td>Thread that lost the CPU.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is responsible for handling the dynamic priority and time slice resets/updates. </p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga1210a078823bbd6a24d7fe993e5af13a_cgraph.png" border="0" usemap="#group__sched_ga1210a078823bbd6a24d7fe993e5af13a_cgraph" alt=""/></div>
<map name="group__sched_ga1210a078823bbd6a24d7fe993e5af13a_cgraph" id="group__sched_ga1210a078823bbd6a24d7fe993e5af13a_cgraph">
<area shape="rect" id="node3" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="192,5,309,38"/><area shape="rect" id="node5" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="357,31,464,65"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9424b03c1fd27d84ac97b69873078376"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dyn_prio_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the dynamic priority. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to reset the dynamic priority for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac785ae41ce6d0f268bd39497fc873b68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dyn_prio_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update the dynamic priorities of a run queue with 1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to update. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gac785ae41ce6d0f268bd39497fc873b68_cgraph.png" border="0" usemap="#group__sched_gac785ae41ce6d0f268bd39497fc873b68_cgraph" alt=""/></div>
<map name="group__sched_gac785ae41ce6d0f268bd39497fc873b68_cgraph" id="group__sched_gac785ae41ce6d0f268bd39497fc873b68_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="171,5,277,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3bc3313bad893c5e73c47dbdf69d3bbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irq_handle_fn </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Threaded IRQ handle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>IRQ data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is a thread handle.</dd></dl>
<p>Threaded IRQ's will be handled in this thread. Calls struct <a class="el" href="structirq__data.html#a7f06938a3bc7ef19b448f13b7eb6d1cc" title="IRQ handler. ">irq_data::handler</a>. </p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga3bc3313bad893c5e73c47dbdf69d3bbe_cgraph.png" border="0" usemap="#group__sched_ga3bc3313bad893c5e73c47dbdf69d3bbe_cgraph" alt=""/></div>
<map name="group__sched_ga3bc3313bad893c5e73c47dbdf69d3bbe_cgraph" id="group__sched_ga3bc3313bad893c5e73c47dbdf69d3bbe_cgraph">
<area shape="rect" id="node3" href="group__sched.html#gaee692d7e66f769977248b9a0ac03bed2" title="Put an IRQ thread in a waiting state. " alt="" coords="153,545,263,578"/><area shape="rect" id="node5" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="2633,144,2737,177"/><area shape="rect" id="node11" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="1667,1188,1736,1221"/><area shape="rect" id="node23" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2653,1244,2717,1277"/><area shape="rect" id="node154" href="group__thread.html#ga745120ab159e016e2e2d7a72308cf6c0" title="Kill the current thread. " alt="" coords="189,601,227,634"/><area shape="rect" id="node9" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2655,380,2716,413"/><area shape="rect" id="node13" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="312,573,387,606"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2819,1241,2947,1274"/><area shape="rect" id="node15" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="436,546,521,580"/><area shape="rect" id="node17" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab" title="Reschedule the current run queue. " alt="" coords="435,765,523,798"/><area shape="rect" id="node148" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="2417,870,2519,904"/><area shape="rect" id="node19" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="620,653,697,686"/><area shape="rect" id="node21" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="1445,1078,1571,1112"/><area shape="rect" id="node31" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="597,546,720,580"/><area shape="rect" id="node70" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="589,765,728,798"/><area shape="rect" id="node72" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="807,978,948,1012"/><area shape="rect" id="node117" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="573,872,744,905"/><area shape="rect" id="node119" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="571,928,747,961"/><area shape="rect" id="node123" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="589,352,728,385"/><area shape="rect" id="node130" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="595,1141,723,1174"/><area shape="rect" id="node135" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="620,709,697,742"/><area shape="rect" id="node137" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195" title="Destroy the kill queue. " alt="" coords="599,1034,719,1068"/><area shape="rect" id="node26" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="2391,1030,2545,1064"/><area shape="rect" id="node33" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="800,594,955,628"/><area shape="rect" id="node35" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="1235,626,1381,660"/><area shape="rect" id="node41" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="1039,693,1156,726"/><area shape="rect" id="node43" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="1023,616,1172,670"/><area shape="rect" id="node48" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="1267,816,1349,849"/><area shape="rect" id="node53" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="1008,749,1187,782"/><area shape="rect" id="node55" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="1039,984,1156,1017"/><area shape="rect" id="node63" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1636,458,1767,492"/><area shape="rect" id="node66" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="1076,509,1119,542"/><area shape="rect" id="node37" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="1444,654,1572,688"/><area shape="rect" id="node39" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="1451,598,1565,632"/><area shape="rect" id="node46" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="1255,721,1361,754"/><area shape="rect" id="node50" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="1817,924,1967,957"/><area shape="rect" id="node57" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="1241,924,1375,978"/><area shape="rect" id="node59" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="1248,1001,1368,1034"/><area shape="rect" id="node61" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="1431,1001,1585,1034"/><area shape="rect" id="node74" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="1072,1141,1123,1174"/><area shape="rect" id="node76" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="1268,1186,1348,1220"/><area shape="rect" id="node78" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="1449,1186,1567,1220"/><area shape="rect" id="node81" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="1447,1344,1569,1377"/><area shape="rect" id="node83" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="1675,1294,1728,1328"/><area shape="rect" id="node85" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="1861,1244,1923,1277"/><area shape="rect" id="node87" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="2016,1188,2133,1221"/><area shape="rect" id="node89" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="2052,1300,2097,1333"/><area shape="rect" id="node94" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="2049,1244,2100,1277"/><area shape="rect" id="node103" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="2017,200,2132,233"/><area shape="rect" id="node91" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="2233,1300,2284,1333"/><area shape="rect" id="node96" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="2233,1244,2284,1277"/><area shape="rect" id="node101" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="2232,1188,2285,1221"/><area shape="rect" id="node98" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="2431,1244,2505,1277"/><area shape="rect" id="node105" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="2181,200,2336,233"/><area shape="rect" id="node107" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="2397,144,2539,177"/><area shape="rect" id="node110" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="2385,200,2551,233"/><area shape="rect" id="node121" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="813,872,941,905"/><area shape="rect" id="node125" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="819,352,936,385"/><area shape="rect" id="node127" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="1044,301,1151,334"/><area shape="rect" id="node133" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="808,1141,947,1174"/><area shape="rect" id="node139" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="1031,805,1164,860"/><area shape="rect" id="node144" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="795,1034,960,1068"/><area shape="rect" id="node159" href="group__sched.html#ga943138ae9f6509d01235bbd1e35bdccb" title="Add a kill thread to the current RQ. " alt="" coords="2397,1501,2539,1534"/><area shape="rect" id="node162" href="group__sched.html#ga8cf0a4f4c107b862043c281c6ca09ed0" title="Add a kill thread to the current RQ. " alt="" coords="2601,1426,2769,1460"/><area shape="rect" id="node165" href="group__sched.html#gaa119db667033233b449e211df34dc4c3" title="Add a kill thread. " alt="" coords="2820,1426,2945,1460"/><area shape="rect" id="node167" href="group__sched.html#ga301d246794be6810e401a05368e8f43e" title="Add a thread to rq_list. " alt="" coords="2995,1426,3080,1460"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga03112ca86b69fbd1f65033163c3b9676"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void irq_signal_threads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal threads that function as an IRQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Current run queue.</td></tr>
  </table>
  </dd>
</dl>
<p>IRQ's can be configured to be handled in threaded context instead of IRQ context. This function is responsible for waking up the correct threads when one of these IRQ's has been triggered by external hardware. </p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga03112ca86b69fbd1f65033163c3b9676_cgraph.png" border="0" usemap="#group__sched_ga03112ca86b69fbd1f65033163c3b9676_cgraph" alt=""/></div>
<map name="group__sched_ga03112ca86b69fbd1f65033163c3b9676_cgraph" id="group__sched_ga03112ca86b69fbd1f65033163c3b9676_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="228,5,292,38"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="225,61,295,94"/><area shape="rect" id="node7" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="183,117,337,150"/><area shape="rect" id="node11" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="420,170,481,203"/><area shape="rect" id="node9" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="387,114,515,147"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaee692d7e66f769977248b9a0ac03bed2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void irq_thread_wait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put an IRQ thread in a waiting state. </p>
<dl class="section note"><dt>Note</dt><dd>The thread wont wake up until it is signaled and woken up by irq_signal_threads. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. ">irq_signal_threads</a> <a class="el" href="group__sched.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. ">schedule</a> </dd></dl>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gaee692d7e66f769977248b9a0ac03bed2_cgraph.png" border="0" usemap="#group__sched_gaee692d7e66f769977248b9a0ac03bed2_cgraph" alt=""/></div>
<map name="group__sched_gaee692d7e66f769977248b9a0ac03bed2_cgraph" id="group__sched_gaee692d7e66f769977248b9a0ac03bed2_cgraph">
<area shape="rect" id="node3" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="2455,104,2559,137"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2476,952,2537,985"/><area shape="rect" id="node9" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="1520,853,1589,887"/><area shape="rect" id="node11" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="165,152,240,185"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2608,555,2736,588"/><area shape="rect" id="node13" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="289,99,375,132"/><area shape="rect" id="node15" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab" title="Reschedule the current run queue. " alt="" coords="288,531,376,564"/><area shape="rect" id="node146" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="2271,48,2372,81"/><area shape="rect" id="node17" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="473,477,551,511"/><area shape="rect" id="node19" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="1299,984,1424,1017"/><area shape="rect" id="node29" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="451,584,573,617"/><area shape="rect" id="node68" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="443,640,581,673"/><area shape="rect" id="node70" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="660,531,801,564"/><area shape="rect" id="node115" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="427,696,597,729"/><area shape="rect" id="node117" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="424,752,600,785"/><area shape="rect" id="node121" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="443,344,581,377"/><area shape="rect" id="node128" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="448,211,576,244"/><area shape="rect" id="node133" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="473,288,551,321"/><area shape="rect" id="node135" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195" title="Destroy the kill queue. " alt="" coords="452,421,572,455"/><area shape="rect" id="node21" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2475,296,2539,329"/><area shape="rect" id="node24" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="2244,1005,2399,1039"/><area shape="rect" id="node31" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="653,664,808,697"/><area shape="rect" id="node33" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="1088,499,1235,532"/><area shape="rect" id="node39" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="892,800,1009,833"/><area shape="rect" id="node41" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="876,453,1025,508"/><area shape="rect" id="node46" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="1120,387,1203,420"/><area shape="rect" id="node51" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="861,581,1040,615"/><area shape="rect" id="node53" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="892,744,1009,777"/><area shape="rect" id="node61" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1489,747,1620,780"/><area shape="rect" id="node64" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="929,637,972,671"/><area shape="rect" id="node35" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="1297,527,1425,560"/><area shape="rect" id="node37" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="1304,471,1419,504"/><area shape="rect" id="node44" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="1108,443,1215,476"/><area shape="rect" id="node48" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="1671,420,1820,453"/><area shape="rect" id="node55" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="1095,733,1228,788"/><area shape="rect" id="node57" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="1101,644,1221,677"/><area shape="rect" id="node59" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="1284,644,1439,677"/><area shape="rect" id="node72" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="925,269,976,303"/><area shape="rect" id="node74" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="1121,283,1201,316"/><area shape="rect" id="node76" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="1303,340,1420,373"/><area shape="rect" id="node79" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="1300,283,1423,316"/><area shape="rect" id="node81" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="1528,283,1581,316"/><area shape="rect" id="node83" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="1715,283,1776,316"/><area shape="rect" id="node85" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="1869,379,1987,412"/><area shape="rect" id="node87" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="1905,267,1951,300"/><area shape="rect" id="node92" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="1903,323,1953,356"/><area shape="rect" id="node101" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="1871,211,1985,244"/><area shape="rect" id="node89" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="2087,267,2137,300"/><area shape="rect" id="node94" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="2087,323,2137,356"/><area shape="rect" id="node99" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="2085,379,2139,412"/><area shape="rect" id="node96" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="2284,323,2359,356"/><area shape="rect" id="node103" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="2035,211,2189,244"/><area shape="rect" id="node105" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="2251,104,2392,137"/><area shape="rect" id="node108" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="2239,211,2404,244"/><area shape="rect" id="node119" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="667,752,795,785"/><area shape="rect" id="node123" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="672,317,789,351"/><area shape="rect" id="node125" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="897,213,1004,247"/><area shape="rect" id="node131" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="661,211,800,244"/><area shape="rect" id="node137" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="884,376,1017,431"/><area shape="rect" id="node142" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="648,424,813,457"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa502c4a92f7b7008c0eca9c374d7f671"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> need_resched </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a reschedule is required. </p>
<dl class="section return"><dt>Returns</dt><dd>true if a reschedule is required, false otherwise. </dd></dl>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gaa502c4a92f7b7008c0eca9c374d7f671_cgraph.png" border="0" usemap="#group__sched_gaa502c4a92f7b7008c0eca9c374d7f671_cgraph" alt=""/></div>
<map name="group__sched_gaa502c4a92f7b7008c0eca9c374d7f671_cgraph" id="group__sched_gaa502c4a92f7b7008c0eca9c374d7f671_cgraph">
<area shape="rect" id="node3" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="159,5,263,38"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="179,61,243,94"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="312,5,440,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab377aa939771256f71f426bd7650b01a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* preempt_counter_ptr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the preemption counter of the current thread. </p>
<p>Get the preemption counter pointer of the current thread.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the preemption counter of the current thread.</dd></dl>
<p>Returns struct <a class="el" href="structthread.html#a449510b1270b20ea278fcb3ae871f3d3" title="Preempt enable counter. ">thread::preemt_cnt</a>. </p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gab377aa939771256f71f426bd7650b01a_cgraph.png" border="0" usemap="#group__sched_gab377aa939771256f71f426bd7650b01a_cgraph" alt=""/></div>
<map name="group__sched_gab377aa939771256f71f426bd7650b01a_cgraph" id="group__sched_gab377aa939771256f71f426bd7650b01a_cgraph">
<area shape="rect" id="node3" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="196,5,300,38"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="349,5,477,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa93580e45d2e6c581a96c72bfbd51212"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> preempt_should_resched </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the current thread should be rescheduled. </p>
<dl class="section note"><dt>Note</dt><dd>The difference between should_resched and preempt_should_resched is is that should_resched only checks if THREAD_NEED_RESCHED_FLAG is set, preempt_should_resched also checks if the timeslice has expired. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the system should reschedule. </td></tr>
    <tr><td class="paramname">false</td><td>if the system doesn't need to reschedule. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gaa93580e45d2e6c581a96c72bfbd51212_cgraph.png" border="0" usemap="#group__sched_gaa93580e45d2e6c581a96c72bfbd51212_cgraph" alt=""/></div>
<map name="group__sched_gaa93580e45d2e6c581a96c72bfbd51212_cgraph" id="group__sched_gaa93580e45d2e6c581a96c72bfbd51212_cgraph">
<area shape="rect" id="node3" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="223,5,327,38"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="244,61,305,94"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="376,5,504,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9a8ff49b1aeeb5a84a73ac172e1d57d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char prio </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the priority of a thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to calculate the priority off. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The priority of <code>tp</code>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga72ca187dd5dd0ac19af98da3ea9b56e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void queue_add_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__queue.html">thread_queue</a> *&#160;</td>
          <td class="paramname"><em>qp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new thread to a queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qp</td><td>Queue to add to. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga72ca187dd5dd0ac19af98da3ea9b56e4_cgraph.png" border="0" usemap="#group__sched_ga72ca187dd5dd0ac19af98da3ea9b56e4_cgraph" alt=""/></div>
<map name="group__sched_ga72ca187dd5dd0ac19af98da3ea9b56e4_cgraph" id="group__sched_ga72ca187dd5dd0ac19af98da3ea9b56e4_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga979f19c1ce60dbbff56185ffb9b5df74" title="Add a new thread to a queue. " alt="" coords="183,38,337,71"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="432,5,496,38"/><area shape="rect" id="node7" href="group__sched.html#ga466e412d13a242143847e21dcbd5fea7" title="Remove a thread from a run queue without rescheduling. " alt="" coords="387,61,541,115"/><area shape="rect" id="node9" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="591,43,660,77"/><area shape="rect" id="node11" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="595,99,656,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa468a0cc0864610b821b2730abe5c182"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void queue_remove_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__queue.html">thread_queue</a> *&#160;</td>
          <td class="paramname"><em>qp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a thread from a <a class="el" href="structthread__queue.html" title="Thread queue descriptor. ">thread_queue</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qp</td><td>Queue to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread which has to be removed. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gaa468a0cc0864610b821b2730abe5c182_cgraph.png" border="0" usemap="#group__sched_gaa468a0cc0864610b821b2730abe5c182_cgraph" alt=""/></div>
<map name="group__sched_gaa468a0cc0864610b821b2730abe5c182_cgraph" id="group__sched_gaa468a0cc0864610b821b2730abe5c182_cgraph">
<area shape="rect" id="node3" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="205,5,384,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga979f19c1ce60dbbff56185ffb9b5df74"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void raw_queue_add_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__queue.html">thread_queue</a> *&#160;</td>
          <td class="paramname"><em>qp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a new thread to a queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qp</td><td>Queue to add to. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga979f19c1ce60dbbff56185ffb9b5df74_cgraph.png" border="0" usemap="#group__sched_ga979f19c1ce60dbbff56185ffb9b5df74_cgraph" alt=""/></div>
<map name="group__sched_ga979f19c1ce60dbbff56185ffb9b5df74_cgraph" id="group__sched_ga979f19c1ce60dbbff56185ffb9b5df74_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="256,5,320,38"/><area shape="rect" id="node5" href="group__sched.html#ga466e412d13a242143847e21dcbd5fea7" title="Remove a thread from a run queue without rescheduling. " alt="" coords="211,61,365,115"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="415,43,484,77"/><area shape="rect" id="node9" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="419,99,480,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadb1050b54e2329c8c86ca1a7a3bbc0dc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void raw_queue_remove_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__queue.html">thread_queue</a> *&#160;</td>
          <td class="paramname"><em>qp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a thread from a <a class="el" href="structthread__queue.html" title="Thread queue descriptor. ">thread_queue</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qp</td><td>Queue to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread which has to be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No queue locks are aquired. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6bfa8964506ed9b9b7cc8e04c2f2bbf1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void raw_rq_add_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a thread to a run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to add <code>tp</code> to. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga6bfa8964506ed9b9b7cc8e04c2f2bbf1_cgraph.png" border="0" usemap="#group__sched_ga6bfa8964506ed9b9b7cc8e04c2f2bbf1_cgraph" alt=""/></div>
<map name="group__sched_ga6bfa8964506ed9b9b7cc8e04c2f2bbf1_cgraph" id="group__sched_ga6bfa8964506ed9b9b7cc8e04c2f2bbf1_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="187,5,248,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga754b469e7ba40ebd207bee7e1743dd6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void raw_rq_remove_kill_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a thread from the kill queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to remove. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga754b469e7ba40ebd207bee7e1743dd6c_cgraph.png" border="0" usemap="#group__sched_ga754b469e7ba40ebd207bee7e1743dd6c_cgraph" alt=""/></div>
<map name="group__sched_ga754b469e7ba40ebd207bee7e1743dd6c_cgraph" id="group__sched_ga754b469e7ba40ebd207bee7e1743dd6c_cgraph">
<area shape="rect" id="node3" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="189,33,336,66"/><area shape="rect" id="node9" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="209,89,316,122"/><area shape="rect" id="node11" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="221,145,304,178"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="396,5,524,38"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="403,61,517,94"/><area shape="rect" id="node13" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="385,145,535,178"/><area shape="rect" id="node15" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="585,145,649,178"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac8e22593d00f87f52537f7f20f42a51c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int raw_rq_remove_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a thread from a run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to add to. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to remove. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gac8e22593d00f87f52537f7f20f42a51c_cgraph.png" border="0" usemap="#group__sched_gac8e22593d00f87f52537f7f20f42a51c_cgraph" alt=""/></div>
<map name="group__sched_gac8e22593d00f87f52537f7f20f42a51c_cgraph" id="group__sched_gac8e22593d00f87f52537f7f20f42a51c_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga466e412d13a242143847e21dcbd5fea7" title="Remove a thread from a run queue without rescheduling. " alt="" coords="2064,842,2219,897"/><area shape="rect" id="node9" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="208,345,283,378"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="2316,722,2385,755"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2505,789,2567,822"/><area shape="rect" id="node11" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="332,345,417,378"/><area shape="rect" id="node13" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab" title="Reschedule the current run queue. " alt="" coords="331,566,419,599"/><area shape="rect" id="node147" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="2300,5,2401,38"/><area shape="rect" id="node15" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="516,403,593,437"/><area shape="rect" id="node17" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="2079,655,2204,689"/><area shape="rect" id="node28" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="493,510,616,543"/><area shape="rect" id="node67" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="485,566,624,599"/><area shape="rect" id="node69" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="703,335,844,369"/><area shape="rect" id="node116" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="469,678,640,711"/><area shape="rect" id="node118" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="467,622,643,655"/><area shape="rect" id="node122" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="485,1018,624,1051"/><area shape="rect" id="node129" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="491,734,619,767"/><area shape="rect" id="node134" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="516,226,593,259"/><area shape="rect" id="node136" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195" title="Destroy the kill queue. " alt="" coords="495,282,615,315"/><area shape="rect" id="node19" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2504,241,2568,274"/><area shape="rect" id="node22" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="2273,615,2428,649"/><area shape="rect" id="node24" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2637,231,2765,265"/><area shape="rect" id="node30" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="696,594,851,627"/><area shape="rect" id="node32" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="1131,458,1277,491"/><area shape="rect" id="node38" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="935,541,1052,574"/><area shape="rect" id="node40" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="919,413,1068,467"/><area shape="rect" id="node45" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="1163,346,1245,379"/><area shape="rect" id="node50" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="904,647,1083,681"/><area shape="rect" id="node52" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="935,759,1052,793"/><area shape="rect" id="node60" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1541,914,1672,947"/><area shape="rect" id="node63" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="972,703,1015,737"/><area shape="rect" id="node34" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="1340,430,1468,463"/><area shape="rect" id="node36" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="1347,486,1461,519"/><area shape="rect" id="node43" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="1151,402,1257,435"/><area shape="rect" id="node47" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="1532,378,1681,411"/><area shape="rect" id="node54" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="1137,738,1271,793"/><area shape="rect" id="node56" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="1144,598,1264,631"/><area shape="rect" id="node58" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="1327,598,1481,631"/><area shape="rect" id="node71" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="968,178,1019,211"/><area shape="rect" id="node73" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="1164,178,1244,211"/><area shape="rect" id="node75" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="1732,335,1849,369"/><area shape="rect" id="node78" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="1343,178,1465,211"/><area shape="rect" id="node80" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="1580,93,1633,126"/><area shape="rect" id="node82" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="1760,93,1821,126"/><area shape="rect" id="node84" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="1899,114,2016,147"/><area shape="rect" id="node86" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="1935,170,1980,203"/><area shape="rect" id="node91" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="1932,58,1983,91"/><area shape="rect" id="node100" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="1900,226,2015,259"/><area shape="rect" id="node88" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="2325,173,2376,206"/><area shape="rect" id="node93" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="2116,58,2167,91"/><area shape="rect" id="node98" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="2115,114,2168,147"/><area shape="rect" id="node95" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="2313,117,2388,150"/><area shape="rect" id="node102" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="2064,226,2219,259"/><area shape="rect" id="node104" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="2280,61,2421,94"/><area shape="rect" id="node109" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="2268,229,2433,262"/><area shape="rect" id="node106" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="2484,102,2588,135"/><area shape="rect" id="node120" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="709,650,837,683"/><area shape="rect" id="node124" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="715,1069,832,1102"/><area shape="rect" id="node126" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="940,1045,1047,1078"/><area shape="rect" id="node132" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="704,734,843,767"/><area shape="rect" id="node138" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="927,335,1060,390"/><area shape="rect" id="node143" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="691,178,856,211"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga466e412d13a242143847e21dcbd5fea7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int raw_rq_remove_thread_noresched </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a thread from a run queue without rescheduling. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to remove. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga466e412d13a242143847e21dcbd5fea7_cgraph.png" border="0" usemap="#group__sched_ga466e412d13a242143847e21dcbd5fea7_cgraph" alt=""/></div>
<map name="group__sched_ga466e412d13a242143847e21dcbd5fea7_cgraph" id="group__sched_ga466e412d13a242143847e21dcbd5fea7_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="209,5,279,38"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="213,61,275,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae1a79ba3d3d2d109c947be1ee5a03f3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void raw_rq_remove_wake_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a thread from a rq. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No locks are aquired. </dd></dl>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gae1a79ba3d3d2d109c947be1ee5a03f3d_cgraph.png" border="0" usemap="#group__sched_gae1a79ba3d3d2d109c947be1ee5a03f3d_cgraph" alt=""/></div>
<map name="group__sched_gae1a79ba3d3d2d109c947be1ee5a03f3d_cgraph" id="group__sched_gae1a79ba3d3d2d109c947be1ee5a03f3d_cgraph">
<area shape="rect" id="node3" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="203,33,349,66"/><area shape="rect" id="node9" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="223,89,329,122"/><area shape="rect" id="node11" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="235,145,317,178"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="409,5,537,38"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="416,61,531,94"/><area shape="rect" id="node13" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="399,145,548,178"/><area shape="rect" id="node15" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="599,145,663,178"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8cf0a4f4c107b862043c281c6ca09ed0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void raw_thread_add_to_kill_q </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a kill thread to the current RQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga8cf0a4f4c107b862043c281c6ca09ed0_cgraph.png" border="0" usemap="#group__sched_ga8cf0a4f4c107b862043c281c6ca09ed0_cgraph" alt=""/></div>
<map name="group__sched_ga8cf0a4f4c107b862043c281c6ca09ed0_cgraph" id="group__sched_ga8cf0a4f4c107b862043c281c6ca09ed0_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="224,5,352,38"/><area shape="rect" id="node5" href="group__sched.html#gaa119db667033233b449e211df34dc4c3" title="Add a kill thread. " alt="" coords="225,61,351,94"/><area shape="rect" id="node7" href="group__sched.html#ga301d246794be6810e401a05368e8f43e" title="Add a thread to rq_list. " alt="" coords="400,61,485,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0ef97c57a13bfb6960d699dc4fca5af0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void raw_thread_add_to_wake_q </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a wake thread to the current RQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga0ef97c57a13bfb6960d699dc4fca5af0_cgraph.png" border="0" usemap="#group__sched_ga0ef97c57a13bfb6960d699dc4fca5af0_cgraph" alt=""/></div>
<map name="group__sched_ga0ef97c57a13bfb6960d699dc4fca5af0_cgraph" id="group__sched_ga0ef97c57a13bfb6960d699dc4fca5af0_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="245,5,373,38"/><area shape="rect" id="node5" href="group__sched.html#gab0e552c895a2aedba3709bf10dc5d23f" title="Add a wake thread. " alt="" coords="239,61,380,94"/><area shape="rect" id="node7" href="group__sched.html#ga301d246794be6810e401a05368e8f43e" title="Add a thread to rq_list. " alt="" coords="429,61,515,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa119db667033233b449e211df34dc4c3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rq_add_kill_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a kill thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to add to. </td></tr>
    <tr><td class="paramname">new</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gaa119db667033233b449e211df34dc4c3_cgraph.png" border="0" usemap="#group__sched_gaa119db667033233b449e211df34dc4c3_cgraph" alt=""/></div>
<map name="group__sched_gaa119db667033233b449e211df34dc4c3_cgraph" id="group__sched_gaa119db667033233b449e211df34dc4c3_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga301d246794be6810e401a05368e8f43e" title="Add a thread to rq_list. " alt="" coords="181,5,267,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga77e2ff852e6bfbdd54a2cca365ef8700"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rq_add_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a thread to a run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to add <code>tp</code> to. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to add.</td></tr>
  </table>
  </dd>
</dl>
<p>struct <a class="el" href="structrq.html#a79cda015c79ff2b4c1444e3070f0bb5d" title="Run queue lock. ">rq::lock</a> will be locked (and unlocked). </p>

<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga77e2ff852e6bfbdd54a2cca365ef8700_cgraph.png" border="0" usemap="#group__sched_ga77e2ff852e6bfbdd54a2cca365ef8700_cgraph" alt=""/></div>
<map name="group__sched_ga77e2ff852e6bfbdd54a2cca365ef8700_cgraph" id="group__sched_ga77e2ff852e6bfbdd54a2cca365ef8700_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2832,274,2896,307"/><area shape="rect" id="node5" href="group__sched.html#ga00b5eddce98c571327635b14b3c536b4" title="Remove a thread from a run queue. " alt="" coords="159,781,284,814"/><area shape="rect" id="node13" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2833,1017,2895,1050"/><area shape="rect" id="node7" href="group__sched.html#gac8e22593d00f87f52537f7f20f42a51c" title="Remove a thread from a run queue. " alt="" coords="333,781,488,814"/><area shape="rect" id="node9" href="group__sched.html#ga466e412d13a242143847e21dcbd5fea7" title="Remove a thread from a run queue without rescheduling. " alt="" coords="2392,1102,2547,1157"/><area shape="rect" id="node15" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="536,438,611,471"/><area shape="rect" id="node11" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="2644,1017,2713,1050"/><area shape="rect" id="node17" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="660,438,745,471"/><area shape="rect" id="node19" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab" title="Reschedule the current run queue. " alt="" coords="659,747,747,781"/><area shape="rect" id="node152" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="2628,5,2729,38"/><area shape="rect" id="node21" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="844,1017,921,1050"/><area shape="rect" id="node23" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="2407,1046,2532,1079"/><area shape="rect" id="node33" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="821,747,944,781"/><area shape="rect" id="node72" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="813,1073,952,1106"/><area shape="rect" id="node74" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="1031,450,1172,483"/><area shape="rect" id="node121" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="797,585,968,618"/><area shape="rect" id="node123" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="795,691,971,725"/><area shape="rect" id="node127" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="813,854,952,887"/><area shape="rect" id="node134" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="819,394,947,427"/><area shape="rect" id="node139" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="844,961,921,994"/><area shape="rect" id="node141" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195" title="Destroy the kill queue. " alt="" coords="823,289,943,322"/><area shape="rect" id="node27" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="2601,1229,2756,1262"/><area shape="rect" id="node29" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2965,610,3093,643"/><area shape="rect" id="node35" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="1024,747,1179,781"/><area shape="rect" id="node37" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="1459,577,1605,610"/><area shape="rect" id="node43" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="1263,510,1380,543"/><area shape="rect" id="node45" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="1247,566,1396,621"/><area shape="rect" id="node50" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="1491,457,1573,490"/><area shape="rect" id="node55" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="1232,643,1411,677"/><area shape="rect" id="node57" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="1263,806,1380,839"/><area shape="rect" id="node65" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1869,910,2000,943"/><area shape="rect" id="node68" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="1300,750,1343,783"/><area shape="rect" id="node39" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="1668,545,1796,578"/><area shape="rect" id="node41" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="1675,601,1789,634"/><area shape="rect" id="node48" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="1479,386,1585,419"/><area shape="rect" id="node52" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="1860,457,2009,490"/><area shape="rect" id="node59" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="1465,785,1599,839"/><area shape="rect" id="node61" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="1472,681,1592,714"/><area shape="rect" id="node63" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="1655,681,1809,714"/><area shape="rect" id="node76" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="1296,225,1347,258"/><area shape="rect" id="node78" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="1492,237,1572,270"/><area shape="rect" id="node80" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="2060,298,2177,331"/><area shape="rect" id="node83" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="1671,237,1793,270"/><area shape="rect" id="node85" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="1908,237,1961,270"/><area shape="rect" id="node87" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="2088,237,2149,270"/><area shape="rect" id="node89" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="2227,302,2344,335"/><area shape="rect" id="node91" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="2263,190,2308,223"/><area shape="rect" id="node96" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="2260,246,2311,279"/><area shape="rect" id="node105" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="2228,134,2343,167"/><area shape="rect" id="node93" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="2444,190,2495,223"/><area shape="rect" id="node98" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="2444,246,2495,279"/><area shape="rect" id="node103" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="2443,302,2496,335"/><area shape="rect" id="node100" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="2641,274,2716,307"/><area shape="rect" id="node107" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="2392,134,2547,167"/><area shape="rect" id="node109" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="2608,61,2749,94"/><area shape="rect" id="node114" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="2596,167,2761,201"/><area shape="rect" id="node111" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="2812,114,2916,147"/><area shape="rect" id="node125" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="1037,691,1165,725"/><area shape="rect" id="node129" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="1043,867,1160,901"/><area shape="rect" id="node131" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="1268,1014,1375,1047"/><area shape="rect" id="node137" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="1032,394,1171,427"/><area shape="rect" id="node143" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="1255,331,1388,386"/><area shape="rect" id="node148" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="1019,186,1184,219"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga44292b5df60facfa57dcafc582212a0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rq_add_thread_no_lock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a thread to a run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>No locks are aquired. </dd></dl>

<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga44292b5df60facfa57dcafc582212a0d_cgraph.png" border="0" usemap="#group__sched_ga44292b5df60facfa57dcafc582212a0d_cgraph" alt=""/></div>
<map name="group__sched_ga44292b5df60facfa57dcafc582212a0d_cgraph" id="group__sched_ga44292b5df60facfa57dcafc582212a0d_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="211,5,339,38"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="244,61,305,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab0e552c895a2aedba3709bf10dc5d23f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rq_add_wake_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a wake thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to add to. </td></tr>
    <tr><td class="paramname">new</td><td>Thread to add. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gab0e552c895a2aedba3709bf10dc5d23f_cgraph.png" border="0" usemap="#group__sched_gab0e552c895a2aedba3709bf10dc5d23f_cgraph" alt=""/></div>
<map name="group__sched_gab0e552c895a2aedba3709bf10dc5d23f_cgraph" id="group__sched_gab0e552c895a2aedba3709bf10dc5d23f_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga301d246794be6810e401a05368e8f43e" title="Add a thread to rq_list. " alt="" coords="197,5,283,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga13a5b1237d1c0238dd0432a2590e8195"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rq_destroy_kill_q </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy the kill queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue containing the kill queue head. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga13a5b1237d1c0238dd0432a2590e8195_cgraph.png" border="0" usemap="#group__sched_ga13a5b1237d1c0238dd0432a2590e8195_cgraph" alt=""/></div>
<map name="group__sched_ga13a5b1237d1c0238dd0432a2590e8195_cgraph" id="group__sched_ga13a5b1237d1c0238dd0432a2590e8195_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="1951,48,2084,103"/><area shape="rect" id="node19" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="173,607,339,640"/><area shape="rect" id="node21" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="387,635,437,668"/><area shape="rect" id="node5" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="2155,59,2301,92"/><area shape="rect" id="node11" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="2175,120,2281,153"/><area shape="rect" id="node13" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="2187,176,2269,209"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="2364,53,2492,87"/><area shape="rect" id="node9" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="2371,109,2485,143"/><area shape="rect" id="node15" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="2353,176,2503,209"/><area shape="rect" id="node17" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2556,1056,2620,1089"/><area shape="rect" id="node23" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="485,963,565,996"/><area shape="rect" id="node25" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="785,1059,903,1092"/><area shape="rect" id="node29" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="613,963,736,996"/><area shape="rect" id="node27" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="1983,949,2052,983"/><area shape="rect" id="node31" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="817,963,871,996"/><area shape="rect" id="node33" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="953,963,1015,996"/><area shape="rect" id="node35" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="1064,935,1181,968"/><area shape="rect" id="node37" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="1244,1047,1289,1080"/><area shape="rect" id="node42" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="1097,991,1148,1024"/><area shape="rect" id="node51" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="1065,879,1180,912"/><area shape="rect" id="node39" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="1371,1047,1421,1080"/><area shape="rect" id="node44" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="1241,991,1292,1024"/><area shape="rect" id="node49" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="1240,935,1293,968"/><area shape="rect" id="node46" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="1359,991,1433,1024"/><area shape="rect" id="node53" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="1499,895,1653,928"/><area shape="rect" id="node66" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="1229,804,1304,837"/><area shape="rect" id="node55" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="1725,1003,1867,1036"/><area shape="rect" id="node61" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="1713,947,1879,980"/><area shape="rect" id="node57" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="1965,1056,2069,1089"/><area shape="rect" id="node59" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2164,949,2292,983"/><area shape="rect" id="node64" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2197,713,2259,747"/><area shape="rect" id="node68" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="1353,791,1439,824"/><area shape="rect" id="node70" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab" title="Reschedule the current run queue. " alt="" coords="1352,565,1440,599"/><area shape="rect" id="node140" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="1745,1109,1847,1143"/><area shape="rect" id="node72" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="1537,285,1615,319"/><area shape="rect" id="node74" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="1733,784,1859,817"/><area shape="rect" id="node83" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="1515,565,1637,599"/><area shape="rect" id="node112" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="1507,341,1645,375"/><area shape="rect" id="node114" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="1505,621,1647,655"/><area shape="rect" id="node119" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="1491,397,1661,431"/><area shape="rect" id="node121" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="1488,453,1664,487"/><area shape="rect" id="node125" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="1507,677,1645,711"/><area shape="rect" id="node132" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="1512,839,1640,872"/><area shape="rect" id="node137" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="1537,509,1615,543"/><area shape="rect" id="node78" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="1940,843,2095,876"/><area shape="rect" id="node85" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="1719,365,1873,399"/><area shape="rect" id="node88" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="1959,203,2076,236"/><area shape="rect" id="node90" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="1943,125,2092,180"/><area shape="rect" id="node95" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="1928,365,2107,399"/><area shape="rect" id="node97" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="1959,309,2076,343"/><area shape="rect" id="node105" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1952,477,2083,511"/><area shape="rect" id="node108" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="1996,421,2039,455"/><area shape="rect" id="node99" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="2161,299,2295,353"/><area shape="rect" id="node101" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="2168,479,2288,512"/><area shape="rect" id="node103" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="2351,479,2505,512"/><area shape="rect" id="node123" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="1732,309,1860,343"/><area shape="rect" id="node127" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="1737,677,1855,711"/><area shape="rect" id="node129" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="1964,635,2071,668"/><area shape="rect" id="node135" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="1727,840,1865,873"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga301d246794be6810e401a05368e8f43e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rq_list_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a thread to rq_list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new</td><td>Thread to add. </td></tr>
    <tr><td class="paramname">head</td><td>New is add after this thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9806ceeb3d9a5e4b28841b40f20bf30e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int rq_list_remove </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *volatile *&#160;</td>
          <td class="paramname"><em>tpp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a thread from the rq_list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to remove. </td></tr>
    <tr><td class="paramname">tpp</td><td>Root queue pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-EOK</td><td>on success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2c707bd06b4a063aff228943af62da62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rq_remove_kill_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a thread from the kill queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to remove.</td></tr>
  </table>
  </dd>
</dl>
<p>struct <a class="el" href="structrq.html#a79cda015c79ff2b4c1444e3070f0bb5d" title="Run queue lock. ">rq::lock</a> will be locked (and unlocked). </p>

<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga2c707bd06b4a063aff228943af62da62_cgraph.png" border="0" usemap="#group__sched_ga2c707bd06b4a063aff228943af62da62_cgraph" alt=""/></div>
<map name="group__sched_ga2c707bd06b4a063aff228943af62da62_cgraph" id="group__sched_ga2c707bd06b4a063aff228943af62da62_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="204,78,337,133"/><area shape="rect" id="node5" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="387,33,533,66"/><area shape="rect" id="node11" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="407,89,513,122"/><area shape="rect" id="node13" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="419,145,501,178"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="593,5,721,38"/><area shape="rect" id="node9" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="600,61,715,94"/><area shape="rect" id="node15" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="583,145,732,178"/><area shape="rect" id="node17" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="783,145,847,178"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga00b5eddce98c571327635b14b3c536b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rq_remove_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a thread from a run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to remove.</td></tr>
  </table>
  </dd>
</dl>
<p>struct <a class="el" href="structrq.html#a79cda015c79ff2b4c1444e3070f0bb5d" title="Run queue lock. ">rq::lock</a> will be locked (and unlocked). </p>

<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga00b5eddce98c571327635b14b3c536b4_cgraph.png" border="0" usemap="#group__sched_ga00b5eddce98c571327635b14b3c536b4_cgraph" alt=""/></div>
<map name="group__sched_ga00b5eddce98c571327635b14b3c536b4_cgraph" id="group__sched_ga00b5eddce98c571327635b14b3c536b4_cgraph">
<area shape="rect" id="node3" href="group__sched.html#gac8e22593d00f87f52537f7f20f42a51c" title="Remove a thread from a run queue. " alt="" coords="181,655,336,689"/><area shape="rect" id="node5" href="group__sched.html#ga466e412d13a242143847e21dcbd5fea7" title="Remove a thread from a run queue without rescheduling. " alt="" coords="2240,842,2395,897"/><area shape="rect" id="node11" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="384,345,459,378"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="2492,722,2561,755"/><area shape="rect" id="node9" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2681,789,2743,822"/><area shape="rect" id="node13" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="508,345,593,378"/><area shape="rect" id="node15" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab" title="Reschedule the current run queue. " alt="" coords="507,566,595,599"/><area shape="rect" id="node149" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="2476,5,2577,38"/><area shape="rect" id="node17" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="692,403,769,437"/><area shape="rect" id="node19" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="2255,655,2380,689"/><area shape="rect" id="node30" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="669,510,792,543"/><area shape="rect" id="node69" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="661,566,800,599"/><area shape="rect" id="node71" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="879,335,1020,369"/><area shape="rect" id="node118" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="645,678,816,711"/><area shape="rect" id="node120" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="643,622,819,655"/><area shape="rect" id="node124" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="661,1018,800,1051"/><area shape="rect" id="node131" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="667,734,795,767"/><area shape="rect" id="node136" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="692,226,769,259"/><area shape="rect" id="node138" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195" title="Destroy the kill queue. " alt="" coords="671,282,791,315"/><area shape="rect" id="node21" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2680,241,2744,274"/><area shape="rect" id="node24" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="2449,615,2604,649"/><area shape="rect" id="node26" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2813,231,2941,265"/><area shape="rect" id="node32" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="872,594,1027,627"/><area shape="rect" id="node34" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="1307,458,1453,491"/><area shape="rect" id="node40" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="1111,541,1228,574"/><area shape="rect" id="node42" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="1095,413,1244,467"/><area shape="rect" id="node47" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="1339,346,1421,379"/><area shape="rect" id="node52" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="1080,647,1259,681"/><area shape="rect" id="node54" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="1111,759,1228,793"/><area shape="rect" id="node62" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1717,914,1848,947"/><area shape="rect" id="node65" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="1148,703,1191,737"/><area shape="rect" id="node36" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="1516,430,1644,463"/><area shape="rect" id="node38" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="1523,486,1637,519"/><area shape="rect" id="node45" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="1327,402,1433,435"/><area shape="rect" id="node49" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="1708,378,1857,411"/><area shape="rect" id="node56" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="1313,738,1447,793"/><area shape="rect" id="node58" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="1320,598,1440,631"/><area shape="rect" id="node60" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="1503,598,1657,631"/><area shape="rect" id="node73" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="1144,178,1195,211"/><area shape="rect" id="node75" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="1340,178,1420,211"/><area shape="rect" id="node77" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="1908,335,2025,369"/><area shape="rect" id="node80" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="1519,178,1641,211"/><area shape="rect" id="node82" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="1756,93,1809,126"/><area shape="rect" id="node84" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="1936,93,1997,126"/><area shape="rect" id="node86" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="2075,114,2192,147"/><area shape="rect" id="node88" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="2111,170,2156,203"/><area shape="rect" id="node93" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="2108,58,2159,91"/><area shape="rect" id="node102" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="2076,226,2191,259"/><area shape="rect" id="node90" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="2501,173,2552,206"/><area shape="rect" id="node95" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="2292,58,2343,91"/><area shape="rect" id="node100" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="2291,114,2344,147"/><area shape="rect" id="node97" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="2489,117,2564,150"/><area shape="rect" id="node104" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="2240,226,2395,259"/><area shape="rect" id="node106" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="2456,61,2597,94"/><area shape="rect" id="node111" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="2444,229,2609,262"/><area shape="rect" id="node108" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="2660,102,2764,135"/><area shape="rect" id="node122" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="885,650,1013,683"/><area shape="rect" id="node126" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="891,1069,1008,1102"/><area shape="rect" id="node128" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="1116,1045,1223,1078"/><area shape="rect" id="node134" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="880,734,1019,767"/><area shape="rect" id="node140" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="1103,335,1236,390"/><area shape="rect" id="node145" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="867,178,1032,211"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga90b5e9ac2b30f1b518a6d2136caf3a07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rq_remove_wake_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a thread from a rq. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>RQ to remove from. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to remove.</td></tr>
  </table>
  </dd>
</dl>
<p>struct <a class="el" href="structrq.html#a79cda015c79ff2b4c1444e3070f0bb5d" title="Run queue lock. ">rq::lock</a> will be locked (and unlocked). </p>

<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga90b5e9ac2b30f1b518a6d2136caf3a07_cgraph.png" border="0" usemap="#group__sched_ga90b5e9ac2b30f1b518a6d2136caf3a07_cgraph" alt=""/></div>
<map name="group__sched_ga90b5e9ac2b30f1b518a6d2136caf3a07_cgraph" id="group__sched_ga90b5e9ac2b30f1b518a6d2136caf3a07_cgraph">
<area shape="rect" id="node3" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="219,78,368,133"/><area shape="rect" id="node5" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="416,33,563,66"/><area shape="rect" id="node11" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="436,89,543,122"/><area shape="rect" id="node13" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="448,145,531,178"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="623,5,751,38"/><area shape="rect" id="node9" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="629,61,744,94"/><area shape="rect" id="node15" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="612,145,761,178"/><area shape="rect" id="node17" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="812,145,876,178"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga21bff5f2e0f402ef8b0ccb687570a2fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rq_signal_event_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal a thread on a wake queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue of the thread. </td></tr>
    <tr><td class="paramname">tp</td><td>Thread to signal.</td></tr>
  </table>
  </dd>
</dl>
<p>The thread <code>tp</code> has received an EVENT trigger. The queue which <code>tp</code> is on will be notified and the the thread with the highest priority will be woken up first. </p>

<p><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga21bff5f2e0f402ef8b0ccb687570a2fa_cgraph.png" border="0" usemap="#group__sched_ga21bff5f2e0f402ef8b0ccb687570a2fa_cgraph" alt=""/></div>
<map name="group__sched_ga21bff5f2e0f402ef8b0ccb687570a2fa_cgraph" id="group__sched_ga21bff5f2e0f402ef8b0ccb687570a2fa_cgraph">
<area shape="rect" id="node3" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="435,50,581,83"/><area shape="rect" id="node9" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="239,39,356,72"/><area shape="rect" id="node11" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="223,95,372,150"/><area shape="rect" id="node16" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="467,164,549,198"/><area shape="rect" id="node22" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="208,223,387,256"/><area shape="rect" id="node24" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="239,279,356,312"/><area shape="rect" id="node32" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="232,335,363,368"/><area shape="rect" id="node34" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="477,382,539,415"/><area shape="rect" id="node36" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="276,442,319,475"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="644,48,772,82"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="651,104,765,138"/><area shape="rect" id="node14" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="455,106,561,139"/><area shape="rect" id="node18" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="633,164,783,198"/><area shape="rect" id="node20" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="836,164,900,198"/><area shape="rect" id="node26" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="441,230,575,284"/><area shape="rect" id="node28" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="448,307,568,340"/><area shape="rect" id="node30" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="631,307,785,340"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga017c639d6dbf8710ad60a22985116618"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rq_signal_threads </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signal threads that are waiting for an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>A pointer to the current of 'this' CPU.</td></tr>
  </table>
  </dd>
</dl>
<p>This function wakes up all threads that have received an EVENT trigger. Only functions that are put into a waiting state by the EVM subsystem are woken up by this function. Functions put to sleep by either sleep or wait are not affected. </p>

<p><div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga017c639d6dbf8710ad60a22985116618_cgraph.png" border="0" usemap="#group__sched_ga017c639d6dbf8710ad60a22985116618_cgraph" alt=""/></div>
<map name="group__sched_ga017c639d6dbf8710ad60a22985116618_cgraph" id="group__sched_ga017c639d6dbf8710ad60a22985116618_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="179,223,333,256"/><area shape="rect" id="node5" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="608,50,755,83"/><area shape="rect" id="node11" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="412,39,529,72"/><area shape="rect" id="node13" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="396,95,545,150"/><area shape="rect" id="node18" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="640,164,723,198"/><area shape="rect" id="node24" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="381,223,560,256"/><area shape="rect" id="node26" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="412,279,529,312"/><area shape="rect" id="node34" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="405,335,536,368"/><area shape="rect" id="node36" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="651,382,712,415"/><area shape="rect" id="node38" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="449,442,492,475"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="817,48,945,82"/><area shape="rect" id="node9" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="824,104,939,138"/><area shape="rect" id="node16" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="628,106,735,139"/><area shape="rect" id="node20" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="807,164,956,198"/><area shape="rect" id="node22" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="1009,164,1073,198"/><area shape="rect" id="node28" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="615,230,748,284"/><area shape="rect" id="node30" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="621,307,741,340"/><area shape="rect" id="node32" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="804,307,959,340"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga761312d2768cc26c49b7f53de33c8477"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void __hot rq_switch_context </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch context on a given run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to use for the context. </td></tr>
    <tr><td class="paramname">prev</td><td>Previous thread. </td></tr>
    <tr><td class="paramname">new</td><td>New thread to replace <code>prev</code>. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga761312d2768cc26c49b7f53de33c8477_cgraph.png" border="0" usemap="#group__sched_ga761312d2768cc26c49b7f53de33c8477_cgraph" alt=""/></div>
<map name="group__sched_ga761312d2768cc26c49b7f53de33c8477_cgraph" id="group__sched_ga761312d2768cc26c49b7f53de33c8477_cgraph">
<area shape="rect" id="node3" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="219,5,283,38"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="181,61,320,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0b1c71305537a28e3a7194016f6b43e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void rq_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update a run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Calls <a class="el" href="structsched__class.html#a8a1c60922a67827dab586c7f23a730bc" title="Post schedule. ">sched_class::post_schedule</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga550ca50260ef89432c99ba6dcc150644"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structthread.html">thread</a>* sched_get_next_runnable </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain the next runnable task of a run queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Run queue to get the next runnable from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac76f0bd4fbafc057a2f780869968e3ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sched_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the scheduler. </p>
<dl class="section note"><dt>Note</dt><dd>This function doesn't return.</dd></dl>
<p>The arch init initialises the scheduler using this function during boot. </p>

<p><div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gac76f0bd4fbafc057a2f780869968e3ed_cgraph.png" border="0" usemap="#group__sched_gac76f0bd4fbafc057a2f780869968e3ed_cgraph" alt=""/></div>
<map name="group__sched_gac76f0bd4fbafc057a2f780869968e3ed_cgraph" id="group__sched_gac76f0bd4fbafc057a2f780869968e3ed_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="141,5,269,38"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="136,61,275,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1a5cf871207a99e5d32c88d16b4986db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sched_setup_sleep_thread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a thread to go into sleeping mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to prepare. </td></tr>
    <tr><td class="paramname">ms</td><td>Time to sleep in miliseconds. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-36" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-36-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-36-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-36-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga1a5cf871207a99e5d32c88d16b4986db_cgraph.png" border="0" usemap="#group__sched_ga1a5cf871207a99e5d32c88d16b4986db_cgraph" alt=""/></div>
<map name="group__sched_ga1a5cf871207a99e5d32c88d16b4986db_cgraph" id="group__sched_ga1a5cf871207a99e5d32c88d16b4986db_cgraph">
<area shape="rect" id="node3" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="268,5,385,38"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="699,221,760,254"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="501,167,571,201"/><area shape="rect" id="node9" href="group__tm.html#ga15711d26d9190044d7ca7ac1d3899ca4" title="Create a new timer. " alt="" coords="261,61,392,94"/><area shape="rect" id="node17" href="group__sched.html#gae96839a8f744d32804b17f6e83d69a81" title="Timer handle for sleeping threads. " alt="" coords="255,221,399,254"/><area shape="rect" id="node26" href="group__preempt.html#ga0be0edad7c14b013f7a4083b645fed6b" title="Enable preemption, but do never reschedule. " alt="" coords="233,277,420,310"/><area shape="rect" id="node11" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="504,61,568,94"/><area shape="rect" id="node13" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="476,5,596,38"/><area shape="rect" id="node15" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="652,5,807,38"/><area shape="rect" id="node19" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="472,330,600,363"/><area shape="rect" id="node23" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="471,274,601,307"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae96839a8f744d32804b17f6e83d69a81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sched_sleep_timeout </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtimer.html">timer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timer handle for sleeping threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>Timer pointer. </td></tr>
    <tr><td class="paramname">arg</td><td>Timer argument, which points to the sleeping thread. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-37" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-37-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-37-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-37-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gae96839a8f744d32804b17f6e83d69a81_cgraph.png" border="0" usemap="#group__sched_gae96839a8f744d32804b17f6e83d69a81_cgraph" alt=""/></div>
<map name="group__sched_gae96839a8f744d32804b17f6e83d69a81_cgraph" id="group__sched_gae96839a8f744d32804b17f6e83d69a81_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="203,5,331,38"/><area shape="rect" id="node5" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="232,61,301,94"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="381,141,443,174"/><area shape="rect" id="node9" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="201,167,332,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf73c5dc7cda9379cb9e99169b92dbbee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long sched_switch_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of thread switches on the current CPU. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of context switches. </dd></dl>

<p><div id="dynsection-38" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-38-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-38-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-38-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gaf73c5dc7cda9379cb9e99169b92dbbee_cgraph.png" border="0" usemap="#group__sched_gaf73c5dc7cda9379cb9e99169b92dbbee_cgraph" alt=""/></div>
<map name="group__sched_gaf73c5dc7cda9379cb9e99169b92dbbee_cgraph" id="group__sched_gaf73c5dc7cda9379cb9e99169b92dbbee_cgraph">
<area shape="rect" id="node3" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="229,5,315,38"/><area shape="rect" id="node5" href="group__sched.html#ga7e596ab331b3af0d627de2e80681acf2" title="Get the number of thread switches of a given CPU. " alt="" coords="195,61,349,94"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="399,61,476,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga16b0328d8a4b4db8c6eb2733218d625e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sched_yield </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structrq.html">rq</a> *&#160;</td>
          <td class="paramname"><em>rq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API interface for `yield()'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rq</td><td>Pointer to the active run queue.</td></tr>
  </table>
  </dd>
</dl>
<p>Yield the current thread to allow other threads access to the CPU. </p>

<p><div id="dynsection-39" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-39-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-39-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-39-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga16b0328d8a4b4db8c6eb2733218d625e_cgraph.png" border="0" usemap="#group__sched_ga16b0328d8a4b4db8c6eb2733218d625e_cgraph" alt=""/></div>
<map name="group__sched_ga16b0328d8a4b4db8c6eb2733218d625e_cgraph" id="group__sched_ga16b0328d8a4b4db8c6eb2733218d625e_cgraph">
<area shape="rect" id="node3" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="180,5,297,38"/><area shape="rect" id="node5" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="153,61,324,94"/><area shape="rect" id="node7" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="156,117,321,150"/><area shape="rect" id="node13" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="404,170,465,203"/><area shape="rect" id="node15" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="217,223,260,257"/><area shape="rect" id="node18" href="group__preempt.html#ga0be0edad7c14b013f7a4083b645fed6b" title="Enable preemption, but do never reschedule. " alt="" coords="145,279,332,313"/><area shape="rect" id="node9" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="383,114,487,147"/><area shape="rect" id="node11" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="536,114,664,147"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac48128e72b303ea22d8ec641a9516b15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void schedule </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reschedule the current run queue. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__thread.html#ga7cb51f5c2b5cad3766f19eb69c92793b" title="Yield the current thread, if necessary. ">yield</a> </dd>
<dd>
<a class="el" href="group__thread.html#gad6030c18a18c28e7b660172bf521b384" title="Put the current thread to sleep. ">sleep</a> </dd>
<dd>
<a class="el" href="group__thread.html#ga82d2d74cac6ae7b30bbdc2b303adec95" title="Put the current thread in a waiting state. ">wait</a> </dd>
<dd>
<a class="el" href="group__thread.html#ga72afa09255d40fb4ffbcbfd008daec44" title="Signal a waiting thread. ">signal</a></dd></dl>
<p>Run the scheduler to allow other threads to access the CPU. Most likely you don't want to call this function directly. </p>

<p><div id="dynsection-40" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-40-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-40-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-40-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gac48128e72b303ea22d8ec641a9516b15_cgraph.png" border="0" usemap="#group__sched_gac48128e72b303ea22d8ec641a9516b15_cgraph" alt=""/></div>
<map name="group__sched_gac48128e72b303ea22d8ec641a9516b15_cgraph" id="group__sched_gac48128e72b303ea22d8ec641a9516b15_cgraph">
<area shape="rect" id="node3" href="group__atmega.html#ga45e277ef6f2d431ec2bf827fe3fe1127" title="Get the ID of the current CPU. " alt="" coords="2105,39,2191,73"/><area shape="rect" id="node5" href="group__sched.html#ga600be0cc76ab00133895c06e27b74fab" title="Reschedule the current run queue. " alt="" coords="128,395,216,429"/><area shape="rect" id="node111" href="group__sched.html#gaa502c4a92f7b7008c0eca9c374d7f671" title="Check if a reschedule is required. " alt="" coords="2097,145,2199,178"/><area shape="rect" id="node7" href="group__arch_a_p_i.html#gabc3ea24600f8a7b491077f26ccbbd5c8" title="Get the RQ of the given cpu. " alt="" coords="313,143,391,177"/><area shape="rect" id="node9" href="group__sched.html#ga03112ca86b69fbd1f65033163c3b9676" title="Signal threads that function as an IRQ. " alt="" coords="1876,655,2001,689"/><area shape="rect" id="node19" href="arch_2avr_2include_2asm_2bitops_8h.html#ad394bdb06d1587dd749fef3e818e82ae" title="Set a bit in a register. " alt="" coords="2303,985,2364,1018"/><area shape="rect" id="node22" href="group__sched.html#ga017c639d6dbf8710ad60a22985116618" title="Signal threads that are waiting for an event. " alt="" coords="291,794,413,827"/><area shape="rect" id="node61" href="group__tm.html#ga3817a7c75cd4be46bb92c9aa608cdbec" title="Update the clockskew of a clocksource. " alt="" coords="283,199,421,233"/><area shape="rect" id="node63" href="group__tm.html#gaf37ee13b8e3698ee03eb932f6bb02c46" title="Process a given clock source and its timers. " alt="" coords="500,429,641,462"/><area shape="rect" id="node117" href="group__sched.html#ga550ca50260ef89432c99ba6dcc150644" title="Obtain the next runnable task of a run queue. " alt="" coords="267,255,437,289"/><area shape="rect" id="node119" href="group__sched.html#ga71fd9dde3968661117e7926bab75f25e" title="Reschedule policy. " alt="" coords="264,311,440,345"/><area shape="rect" id="node123" href="group__sched.html#ga1210a078823bbd6a24d7fe993e5af13a" title="Prepare the a reschedule. " alt="" coords="283,367,421,401"/><area shape="rect" id="node130" href="group__sched.html#ga761312d2768cc26c49b7f53de33c8477" title="Switch context on a given run queue. " alt="" coords="288,530,416,563"/><area shape="rect" id="node135" href="group__sched.html#ga0b1c71305537a28e3a7194016f6b43e6" title="Update a run queue. " alt="" coords="313,586,391,619"/><area shape="rect" id="node137" href="group__sched.html#ga13a5b1237d1c0238dd0432a2590e8195" title="Destroy the kill queue. " alt="" coords="292,423,412,457"/><area shape="rect" id="node11" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="2301,446,2365,479"/><area shape="rect" id="node13" href="arch_2avr_2include_2asm_2bitops_8h.html#af859dcc9aae25796813cd9b3cb375f18" title="Clear a bit in register. " alt="" coords="2113,593,2183,626"/><area shape="rect" id="node15" href="group__sched.html#ga44292b5df60facfa57dcafc582212a0d" title="Add a thread to a run queue. " alt="" coords="2071,762,2225,795"/><area shape="rect" id="node17" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="2435,401,2563,434"/><area shape="rect" id="node24" href="group__sched.html#ga21bff5f2e0f402ef8b0ccb687570a2fa" title="Signal a thread on a wake queue. " alt="" coords="493,922,648,955"/><area shape="rect" id="node26" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="928,831,1075,865"/><area shape="rect" id="node32" href="group__sched.html#gace05e070b7507c5df0d9ae2e6fa7eb50" title="Get the thread_queue the given thread is on. " alt="" coords="732,1162,849,1195"/><area shape="rect" id="node34" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="716,821,865,875"/><area shape="rect" id="node39" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="960,713,1043,746"/><area shape="rect" id="node44" href="group__sched.html#gadb1050b54e2329c8c86ca1a7a3bbc0dc" title="Remove a thread from a thread_queue. " alt="" coords="701,949,880,982"/><area shape="rect" id="node46" href="group__tm.html#ga8b09cd45bc4628ce347b23f28d39be6a" title="Stop a timer. " alt="" coords="732,586,849,619"/><area shape="rect" id="node54" href="group__sched.html#ga6bfa8964506ed9b9b7cc8e04c2f2bbf1" title="Add a thread to a run queue. " alt="" coords="1339,1111,1469,1145"/><area shape="rect" id="node57" href="group__sched.html#ga9a8ff49b1aeeb5a84a73ac172e1d57d5" title="Get the priority of a thread. " alt="" coords="769,1005,812,1038"/><area shape="rect" id="node28" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="1137,859,1265,893"/><area shape="rect" id="node30" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="1144,803,1259,837"/><area shape="rect" id="node37" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="948,773,1055,806"/><area shape="rect" id="node41" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="1329,711,1479,745"/><area shape="rect" id="node48" href="group__tm.html#ga20e856ccf8bbf02684d1c75f61914940" title="Remove a timer from a clocksource. " alt="" coords="935,582,1068,637"/><area shape="rect" id="node50" href="group__tm.html#ga20954f365ba3354a5adb5cb312c8936d" title="Start a new timer. " alt="" coords="941,526,1061,559"/><area shape="rect" id="node52" href="group__tm.html#ga6501ffdc00b89b8308bc225e1182f213" title="Add a new timer to a clocksource. " alt="" coords="1124,526,1279,559"/><area shape="rect" id="node65" href="group__mm.html#gacee1960bdb3a19cb495341ec725cafef" title="Free an allocated memory region. " alt="" coords="765,375,816,409"/><area shape="rect" id="node67" href="group__mm.html#ga3fd08f5ee97949d8961e623389b35553" title="Free an allocated memory region. " alt="" coords="961,375,1041,409"/><area shape="rect" id="node69" href="group__mm.html#gaf371e0a8e50a9e9ad8c71963784c992d" title="Return a node into the heap. " alt="" coords="1529,565,1647,598"/><area shape="rect" id="node72" href="group__mm.html#ga1834e1808096aae51b6350e1742d66ee" title="Merge to nodes. " alt="" coords="1140,366,1263,399"/><area shape="rect" id="node74" href="group__libcio.html#ga3f34c937f934a20fa19636f60b55a48f" title="Write a formated string to a stream. " alt="" coords="1377,365,1431,398"/><area shape="rect" id="node76" href="group__libcio.html#gaec0ca4815c736baec03c71e93e8f0d51" title="Backend for fprintf, printf, etc. " alt="" coords="1557,363,1619,397"/><area shape="rect" id="node78" href="group__preempt.html#gae772fcbd15beae355371d56d6f443566" title="Disable preemption. " alt="" coords="1696,419,1813,453"/><area shape="rect" id="node80" href="group__libcio.html#gaab0c28a38adcc802c8abf4f255bf6024" title="Write one character to a stream. " alt="" coords="1732,307,1777,341"/><area shape="rect" id="node85" href="group__libcio.html#ga44d0812b36dda801251b5b5b3024a0c6" title="Write a string to a stream. " alt="" coords="1729,363,1780,397"/><area shape="rect" id="node94" href="group__preempt.html#ga74ed4ec841ea18a152916f55920b9a9e" title="Enable preemption. " alt="" coords="1697,251,1812,285"/><area shape="rect" id="node82" href="group__libcio.html#ga4244cb46567a7ef1d42dbd3b0e34f676" title="Write one character to a stream. " alt="" coords="1913,307,1964,341"/><area shape="rect" id="node87" href="group__libcio.html#ga89acafaa5cef01cecfe4270f1521a2c3" title="Write to a file. " alt="" coords="1913,363,1964,397"/><area shape="rect" id="node92" href="group__libc.html#ga008e171a518fe0e0352f31b245e03875" title="Determine the length of a string. " alt="" coords="1912,419,1965,453"/><area shape="rect" id="node89" href="group__vfs.html#ga356fd769929217e7b05ce2dae11c4fe5" title="Write to a file. " alt="" coords="2111,418,2185,451"/><area shape="rect" id="node96" href="group__preempt.html#gaaa367ac52b57070819284f18643cc0a9" title="Decrease the preemption counter of the current thread and test it. " alt="" coords="1861,251,2016,285"/><area shape="rect" id="node107" href="group__preempt.html#gac48128e72b303ea22d8ec641a9516b15" title="Reschedule the current run queue. " alt="" coords="1901,119,1976,153"/><area shape="rect" id="node98" href="group__preempt.html#gab377aa939771256f71f426bd7650b01a" title="Get the preemption counter pointer of the current thread. " alt="" coords="2077,251,2219,285"/><area shape="rect" id="node103" href="group__preempt.html#gaa93580e45d2e6c581a96c72bfbd51212" title="Check if the current thread should be rescheduled. " alt="" coords="2065,307,2231,341"/><area shape="rect" id="node100" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="2281,279,2385,313"/><area shape="rect" id="node121" href="arch_2avr_2include_2asm_2bitops_8h.html#a262511af13cb368a79082ebf51cad0c7" title="Clear a bit in register and return the value of nr before clearing. " alt="" coords="507,159,635,193"/><area shape="rect" id="node125" href="group__sched.html#gac785ae41ce6d0f268bd39497fc873b68" title="Update the dynamic priorities of a run queue with 1. " alt="" coords="512,266,629,299"/><area shape="rect" id="node127" href="group__sched.html#ga9424b03c1fd27d84ac97b69873078376" title="Reset the dynamic priority. " alt="" coords="737,239,844,273"/><area shape="rect" id="node133" href="group__arch_a_p_i.html#gaa79e3c72ee6f1dee4720d0f00958009b" title="Reschedule the CPU. " alt="" coords="501,586,640,619"/><area shape="rect" id="node139" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="724,743,857,798"/><area shape="rect" id="node144" href="group__arch_a_p_i.html#gaf680731a9b2e0753de2dfa185b0a13d2" title="Free a stack frame. " alt="" coords="488,322,653,355"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gada97a499438abc44548acb43e582dc73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="include_2etaos_2types_8h.html#a97a80ca1602ebf2303258971a2c938e2">bool</a> should_resched </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a reschedule is needed. </p>
<dl class="section return"><dt>Returns</dt><dd>True or false based on whether a resched is needed or not. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if a resched is needed. </td></tr>
    <tr><td class="paramname">false</td><td>if no resched is needed. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-41" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-41-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-41-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-41-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gada97a499438abc44548acb43e582dc73_cgraph.png" border="0" usemap="#group__sched_gada97a499438abc44548acb43e582dc73_cgraph" alt=""/></div>
<map name="group__sched_gada97a499438abc44548acb43e582dc73_cgraph" id="group__sched_gada97a499438abc44548acb43e582dc73_cgraph">
<area shape="rect" id="node3" href="group__thread.html#ga739f7885bb2e863d7d39df7eea03afa5" title="Get a pointer to the current thread. " alt="" coords="169,5,273,38"/><area shape="rect" id="node7" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="189,61,253,94"/><area shape="rect" id="node5" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="323,5,451,38"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga943138ae9f6509d01235bbd1e35bdccb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_add_to_kill_q </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a kill thread to the current RQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to add.</td></tr>
  </table>
  </dd>
</dl>
<p>struct <a class="el" href="structrq.html#a79cda015c79ff2b4c1444e3070f0bb5d" title="Run queue lock. ">rq::lock</a> will be locked (and unlocked). </p>

<p><div id="dynsection-42" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-42-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-42-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-42-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga943138ae9f6509d01235bbd1e35bdccb_cgraph.png" border="0" usemap="#group__sched_ga943138ae9f6509d01235bbd1e35bdccb_cgraph" alt=""/></div>
<map name="group__sched_ga943138ae9f6509d01235bbd1e35bdccb_cgraph" id="group__sched_ga943138ae9f6509d01235bbd1e35bdccb_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="413,5,541,38"/><area shape="rect" id="node5" href="group__sched.html#ga8cf0a4f4c107b862043c281c6ca09ed0" title="Add a kill thread to the current RQ. " alt="" coords="196,58,364,91"/><area shape="rect" id="node8" href="group__sched.html#gaa119db667033233b449e211df34dc4c3" title="Add a kill thread. " alt="" coords="415,61,540,94"/><area shape="rect" id="node10" href="group__sched.html#ga301d246794be6810e401a05368e8f43e" title="Add a thread to rq_list. " alt="" coords="589,61,675,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga746679e5490fa2dfd8c9184594bc8d7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_add_to_wake_q </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a wake thread to the current RQ. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to add.</td></tr>
  </table>
  </dd>
</dl>
<p>struct <a class="el" href="structrq.html#a79cda015c79ff2b4c1444e3070f0bb5d" title="Run queue lock. ">rq::lock</a> will be locked (and unlocked). </p>

<p><div id="dynsection-43" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-43-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-43-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-43-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga746679e5490fa2dfd8c9184594bc8d7b_cgraph.png" border="0" usemap="#group__sched_ga746679e5490fa2dfd8c9184594bc8d7b_cgraph" alt=""/></div>
<map name="group__sched_ga746679e5490fa2dfd8c9184594bc8d7b_cgraph" id="group__sched_ga746679e5490fa2dfd8c9184594bc8d7b_cgraph">
<area shape="rect" id="node3" href="group__arch_a_p_i.html#ga224ed7aae41f53a7d6f579ebbf3ba7fe" title="Get the run queue of the current CPU. " alt="" coords="451,5,579,38"/><area shape="rect" id="node5" href="group__sched.html#ga0ef97c57a13bfb6960d699dc4fca5af0" title="Add a wake thread to the current RQ. " alt="" coords="211,58,395,91"/><area shape="rect" id="node8" href="group__sched.html#gab0e552c895a2aedba3709bf10dc5d23f" title="Add a wake thread. " alt="" coords="444,61,585,94"/><area shape="rect" id="node10" href="group__sched.html#ga301d246794be6810e401a05368e8f43e" title="Add a thread to rq_list. " alt="" coords="635,61,720,94"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga512d7ca8d457038cebefec83b3b02065"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thread_queue_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread__queue.html">thread_queue</a> *&#160;</td>
          <td class="paramname"><em>qp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise a thread queue during run time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">qp</td><td>Thread queue which has to be initialised. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3a14953a27abbba377438f48843c7b03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_remove_from_kill_q </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a thread from its kill queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to remove. </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-44" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-44-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-44-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-44-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_ga3a14953a27abbba377438f48843c7b03_cgraph.png" border="0" usemap="#group__sched_ga3a14953a27abbba377438f48843c7b03_cgraph" alt=""/></div>
<map name="group__sched_ga3a14953a27abbba377438f48843c7b03_cgraph" id="group__sched_ga3a14953a27abbba377438f48843c7b03_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga2c707bd06b4a063aff228943af62da62" title="Remove a thread from the kill queue. " alt="" coords="195,89,344,122"/><area shape="rect" id="node5" href="group__sched.html#ga754b469e7ba40ebd207bee7e1743dd6c" title="Remove a thread from the kill queue. " alt="" coords="393,78,527,133"/><area shape="rect" id="node7" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="576,33,723,66"/><area shape="rect" id="node13" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="596,89,703,122"/><area shape="rect" id="node15" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="608,145,691,178"/><area shape="rect" id="node9" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="783,5,911,38"/><area shape="rect" id="node11" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="789,61,904,94"/><area shape="rect" id="node17" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="772,145,921,178"/><area shape="rect" id="node19" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="972,145,1036,178"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadaa0c197333ed35a35e52e8b6a4160d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void thread_remove_from_wake_q </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a thread from its wake queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thrad to remove </td></tr>
  </table>
  </dd>
</dl>

<p><div id="dynsection-45" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-45-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-45-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-45-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__sched_gadaa0c197333ed35a35e52e8b6a4160d2_cgraph.png" border="0" usemap="#group__sched_gadaa0c197333ed35a35e52e8b6a4160d2_cgraph" alt=""/></div>
<map name="group__sched_gadaa0c197333ed35a35e52e8b6a4160d2_cgraph" id="group__sched_gadaa0c197333ed35a35e52e8b6a4160d2_cgraph">
<area shape="rect" id="node3" href="group__sched.html#ga90b5e9ac2b30f1b518a6d2136caf3a07" title="Remove a thread from a rq. " alt="" coords="196,89,359,122"/><area shape="rect" id="node5" href="group__sched.html#gae1a79ba3d3d2d109c947be1ee5a03f3d" title="Remove a thread from a rq. " alt="" coords="408,78,557,133"/><area shape="rect" id="node7" href="group__irq.html#ga518bb9818fc4064c745c7cdfc612b16b" title="Save IRQ flags and disable them. " alt="" coords="605,33,752,66"/><area shape="rect" id="node13" href="group__sched.html#ga9806ceeb3d9a5e4b28841b40f20bf30e" title="Remove a thread from the rq_list. " alt="" coords="625,89,732,122"/><area shape="rect" id="node15" href="group__irq.html#gac43df2a88dde564ea7f7c0331cb2aaae" title="Restore the IRQ flags. " alt="" coords="637,145,720,178"/><area shape="rect" id="node9" href="group__arch_a_p_i.html#ga53732d1458648e51671e939c0a929c75" title="Get the IRQ flags. " alt="" coords="812,5,940,38"/><area shape="rect" id="node11" href="group__arch_a_p_i.html#gafe72a49160d521a33bb905eca461a3d6" title="Disable the global interrupts. " alt="" coords="819,61,933,94"/><area shape="rect" id="node17" href="group__arch_a_p_i.html#gaddf161a845a51a829878634b612b3b5a" title="Restore the IRQ flags. " alt="" coords="801,145,951,178"/><area shape="rect" id="node19" href="arch_2avr_2include_2asm_2bitops_8h.html#a885c4e4b78de84afaf562fffdf93f178" title="Return the value of bit nr. " alt="" coords="1001,145,1065,178"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gace05e070b7507c5df0d9ae2e6fa7eb50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structthread__queue.html">thread_queue</a>* thread_to_queue </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structthread.html">thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the <a class="el" href="structthread__queue.html" title="Thread queue descriptor. ">thread_queue</a> the given thread is on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tp</td><td>Thread to get the <a class="el" href="structthread__queue.html" title="Thread queue descriptor. ">thread_queue</a> for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>You have to be sure that the thread is on one. If its not, a false thread queue is returned. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Sep 15 2016 14:14:55 for ETA/OS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
